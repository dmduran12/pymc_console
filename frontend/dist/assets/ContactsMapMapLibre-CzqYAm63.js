import{c as gt,j as a,G as Zr,af as Jr,ag as Qr,f as es,ah as ts}from"./index-982_qNvm.js";import{b as C,g as ns,c as Yn,r as Ir}from"./recharts-CHDYrIv-.js";import{a as $r,P as Qn,S as Zn,L as tn,u as er,M as rs,N as ss,b as os}from"./maplibre-gl-YOay7wLC.js";import{G as Jn,N as is,T as ls,M as Pr,C as as}from"./Contacts-DVsetYKr.js";import{a as tr,C as us}from"./HashBadge-DeeuMKxw.js";import{L as cs}from"./loader-circle-DBcfIKgx.js";import{I as ds}from"./info-ClCHKF_S.js";import{H as Lr}from"./house-BWVgtnfI.js";import{R as fs}from"./refresh-cw-4JSo2t8X.js";import{N as ps}from"./trending-up-Cp1bkdl_.js";import"./maplibre-gl-Cg9ukl_k.js";import"./SignalIndicator-CQFjbTrL.js";import"./triangle-alert-B3OAqYhO.js";import"./zap-DcelmFpc.js";import"./activity-Dqx-9oxy.js";import"./PageLayout-BLtWNHvV.js";import"./users-DHtXdmoU.js";/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],ms=gt("chart-no-axes-column",hs);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=[["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"m17 7 5 5-5 5",key:"1xlxn0"}],["path",{d:"m7 7-5 5 5 5",key:"19njba"}],["path",{d:"M8 12h.01",key:"czm47f"}]],xs=gt("chevrons-left-right-ellipsis",gs);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],vs=gt("database",ys);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ws=gt("download",Ss);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],bs=gt("eye-off",ks);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Es=gt("maximize-2",Cs);/**
 * @license lucide-react v0.559.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],Ms=gt("minimize-2",js),Rn={MAX_THICKNESS_AT:300,MIN_VALIDATIONS:5},Ns=6,Sr=1;function Ar(c,u){const g=Math.max(Rn.MIN_VALIDATIONS,Math.min(c,Rn.MAX_THICKNESS_AT)),k=Math.log(Rn.MIN_VALIDATIONS),m=Math.log(Rn.MAX_THICKNESS_AT),R=(Math.log(g)-k)/(m-k);return Sr+(Ns-Sr)*R}const Dr="#4338CA";function Xn({label:c,icon:u,status:g,detail:k}){return a.jsxs("div",{className:Yn("flex items-center gap-3 py-3 px-4 rounded-xl transition-all duration-300",g==="active"&&"bg-[#4338CA]/10",g==="complete"&&"bg-accent-success/10",g==="pending"&&"opacity-40"),children:[a.jsx("div",{className:Yn("w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 transition-all duration-300",g==="active"&&"bg-[#4338CA]/20",g==="complete"&&"bg-accent-success/20",g==="pending"&&"bg-white/5"),children:g==="complete"?a.jsx(tr,{className:"w-4 h-4 text-accent-success"}):g==="active"?a.jsx(cs,{className:"w-4 h-4 animate-spin",style:{color:Dr}}):a.jsx("span",{className:"text-text-muted",children:u})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:Yn("text-sm font-medium transition-colors",g==="active"&&"text-[#4338CA]",g==="complete"&&"text-accent-success",g==="pending"&&"text-text-muted"),children:c}),k&&g!=="pending"&&a.jsx("div",{className:"text-xs text-text-muted mt-0.5 truncate",children:k})]})]})}function Rs({isOpen:c,currentStep:u,packetCount:g,onClose:k}){if(C.useEffect(()=>{if(!c)return;const R=L=>{L.key==="Escape"&&k&&k()};window.addEventListener("keydown",R);const b=document.body.style.overflow,v=document.body.style.position,x=document.body.style.width,F=document.body.style.top,_=window.scrollY;return document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top=`-${_}px`,()=>{window.removeEventListener("keydown",R),document.body.style.overflow=b,document.body.style.position=v,document.body.style.width=x,document.body.style.top=F,window.scrollTo(0,_)}},[c,k]),!c)return null;const m=u==="complete",y=R=>{const b=["fetching","analyzing","building","complete"],v=b.indexOf(u),x=b.indexOf(R);return x<v?"complete":x===v?"active":"pending"};return ns.createPortal(a.jsxs("div",{className:"fixed inset-0 z-[10010] flex items-center justify-center",role:"dialog","aria-modal":"true","aria-labelledby":"deep-analysis-modal-title",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm"}),a.jsx("div",{className:"relative glass-card w-full max-w-sm mx-4 p-6 animate-in fade-in zoom-in-95 duration-200",style:{background:"rgba(20, 20, 22, 0.95)",border:"1px solid rgba(140, 160, 200, 0.15)"},children:m?a.jsxs("div",{className:"flex flex-col items-center py-6",children:[a.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mb-4 animate-in zoom-in-50 duration-300",style:{backgroundColor:"rgba(57, 217, 138, 0.2)"},children:a.jsx(tr,{className:"w-8 h-8 text-accent-success"})}),a.jsx("h3",{className:"text-lg font-semibold text-accent-success",children:"Ready!"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:"rgba(67, 56, 202, 0.15)"},children:a.jsx(Jn,{className:"w-5 h-5",style:{color:Dr}})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-base font-semibold text-text-primary",children:"Deep Analysis"}),a.jsx("p",{className:"text-xs text-text-muted",children:"Building mesh topology"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Xn,{label:"Fetching Packets",icon:a.jsx(ws,{className:"w-4 h-4"}),status:y("fetching"),detail:g>0?`${g.toLocaleString()} packets`:"Loading database..."}),a.jsx(Xn,{label:"Analyzing Database",icon:a.jsx(vs,{className:"w-4 h-4"}),status:y("analyzing"),detail:"Processing packet paths"}),a.jsx(Xn,{label:"Building Topology",icon:a.jsx(Jn,{className:"w-4 h-4"}),status:y("building"),detail:"Computing mesh edges"})]}),a.jsx("p",{className:"text-xs text-text-muted text-center mt-5",children:"This may take a few seconds..."})]})})]}),document.body)}const Ts=C.memo(Rs),Se=14,wr=5,Ce=20,nr=1,In=32,Y={nodeColor:"#4338CA",localColor:"#FBBF24",hubColor:"#6366F1",mobileColor:"#F97316",roomServerColor:"#F59E0B",neighborColor:"#FBBF24",edges:{rest:"#4B5563",restBright:"#6B7280",restDim:"#374151",hoverDirect:"#5EEAD4",hoverLoop:"#6366F1",hoverStandard:"#9CA3AF",neighborRest:"#6B7280",neighborHover:"#FBBF24"},edgeOpacity:.82},Tn=2e3,Fs=500,kr=500,br=250,Cr=1700,_s=1e3,Is=150,$s=200;function Ps(c){return c===null?"—":c<1e3?`${Math.round(c)}m`:`${(c/1e3).toFixed(1)}km`}function Fn({text:c}){return a.jsxs("span",{className:"group relative cursor-help",children:[a.jsx(ds,{className:"w-3 h-3 text-text-muted"}),a.jsx("div",{className:"absolute bottom-full left-0 mb-1 hidden group-hover:block w-44 p-2 text-[10px] leading-tight rounded-lg z-10",style:{background:"rgba(20, 20, 22, 0.98)",border:"1px solid rgba(140, 160, 200, 0.3)"},children:c})]})}function Ls(c){const u=new Date(c*1e3);return`${(u.getMonth()+1).toString().padStart(2,"0")}/${u.getDate().toString().padStart(2,"0")}`}function As({hash:c,hashPrefix:u,name:g,isHub:k,isZeroHop:m,isMobile:y,isRoomServer:R,isStale:b,lastSeenTimestamp:v,centrality:x,affinity:F,meanSnr:_,meanRssi:L,neighbor:H,onRemove:N,txDelayRec:P}){var X,Z;const[$,A]=C.useState(!1),W=()=>{navigator.clipboard.writeText(c),A(!0),setTimeout(()=>A(!1),1500)},ie=m?"Direct":F!=null&&F.typicalHopPosition?`${F.typicalHopPosition}-hop`:null,J=[{label:"Packets",value:(F==null?void 0:F.frequency)||0},{label:"Adverts",value:H.advert_count||0}];m&&_!==void 0?J.push({label:"SNR",value:`${_.toFixed(1)} dB`}):k&&x>0&&J.push({label:"Centrality",value:`${(x*100).toFixed(0)}%`,highlight:!0}),m&&L!==void 0&&J.push({label:"RSSI",value:`${Math.round(L)} dBm`});const oe=P&&!P.insufficientData;return a.jsxs("div",{className:"w-[220px] pr-3",children:[a.jsx("div",{className:"text-[14px] font-semibold text-text-primary leading-snug truncate mb-0.5",children:g}),a.jsxs("div",{className:"flex items-center gap-1 flex-wrap mb-1.5",children:[a.jsx("code",{className:"font-mono text-[10px] text-text-muted/70 bg-white/5 px-1 py-px rounded",children:u}),a.jsx("button",{onClick:W,className:"p-0.5 hover:bg-white/10 rounded transition-colors",title:"Copy full hash",children:$?a.jsx(tr,{className:"w-2.5 h-2.5 text-accent-success"}):a.jsx(us,{className:"w-2.5 h-2.5 text-text-muted/50"})}),k&&a.jsx("span",{className:"px-1 py-px text-[8px] font-bold uppercase rounded",style:{backgroundColor:"#FBBF24",color:"#000"},children:"Hub"}),ie&&a.jsx("span",{className:"px-1 py-px text-[8px] font-bold uppercase rounded",style:{backgroundColor:m?Y.neighborColor:"rgba(255,255,255,0.08)",color:m?"#000":"rgba(255,255,255,0.5)"},children:ie}),y&&a.jsx("span",{className:"px-1 py-px text-[8px] font-bold uppercase rounded bg-orange-500/25 text-orange-300",children:"Mobile"}),H.is_repeater&&a.jsx("span",{className:"px-1 py-px text-[8px] font-bold uppercase rounded bg-cyan-500/20 text-cyan-400",children:"Rptr"}),R&&a.jsx("span",{className:"px-1 py-px text-[8px] font-bold uppercase rounded bg-amber-500/25 text-amber-400",children:"Room"}),b&&v&&a.jsxs("span",{className:"px-1 py-px text-[8px] font-medium rounded bg-gray-500/30 text-gray-300",title:"Neighbor not heard in 7+ days",children:["Idle ",Ls(v)]})]}),a.jsxs("div",{className:"text-[10px] text-text-muted/60 mb-2 leading-tight",children:[a.jsx("span",{children:Zr(H.last_seen)}),(F==null?void 0:F.distanceMeters)&&a.jsxs("span",{className:"font-medium text-text-muted/80",children:[" · ",Ps(F.distanceMeters)]}),H.latitude&&H.longitude&&H.latitude!==0&&H.longitude!==0&&a.jsxs("span",{className:"font-mono text-[9px]",children:[" · ",H.latitude.toFixed(4),", ",H.longitude.toFixed(4)]})]}),a.jsx("div",{className:"mb-2",children:a.jsx(is,{nodeHash:c,width:"100%",height:28,showArea:!0,showTooltip:!0})}),a.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-0.5 text-[11px] mb-2",children:J.map((ee,U)=>a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-text-muted/50",children:ee.label}),a.jsx("span",{className:`font-semibold tabular-nums ${"highlight"in ee&&ee.highlight?"text-amber-400":""}`,children:ee.value})]},U))}),(oe||N)&&a.jsxs("div",{className:"flex items-center justify-between gap-2 pt-1.5 border-t border-white/5",children:[oe?a.jsxs("div",{className:"flex flex-col gap-0.5 text-[10px] text-text-muted/60",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"uppercase text-[8px] font-semibold tracking-wide text-text-muted/40",children:"TX"}),P.floodSlots!==void 0?a.jsxs(a.Fragment,{children:[a.jsxs("span",{children:["F ",a.jsxs("span",{className:`font-semibold tabular-nums ${P.dataConfidence==="low"?"text-amber-400/50":"text-amber-400"}`,children:[(X=P.floodDelaySec)==null?void 0:X.toFixed(1),"s"]}),a.jsxs("span",{className:"text-text-muted/40",children:[" (",P.floodSlots,")"]})]}),a.jsxs("span",{children:["D ",a.jsxs("span",{className:`font-semibold tabular-nums ${P.dataConfidence==="low"?"text-amber-400/50":"text-amber-400"}`,children:[(Z=P.directDelaySec)==null?void 0:Z.toFixed(1),"s"]}),a.jsxs("span",{className:"text-text-muted/40",children:[" (",P.directSlots,")"]})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("span",{children:["F ",a.jsx("span",{className:"font-semibold text-amber-400 tabular-nums",children:P.txDelayFactor.toFixed(2)})]}),a.jsxs("span",{children:["D ",a.jsx("span",{className:"font-semibold text-amber-400 tabular-nums",children:P.directTxDelayFactor.toFixed(2)})]})]}),P.dataConfidence==="low"&&a.jsx("span",{className:"text-[9px] text-amber-500",title:"Low confidence - limited data or asymmetric traffic",children:"⚠️"}),P.dataConfidence==="high"&&a.jsx("span",{className:"text-[9px] text-green-400",title:"High confidence - good bidirectional visibility",children:"✓"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[P.networkRole&&a.jsx("span",{className:"text-[9px] text-text-muted/40 capitalize",children:P.networkRole}),P.observationSymmetry!==void 0&&a.jsxs("span",{className:`text-[9px] ${P.observationSymmetry>=.5?"text-green-400/60":P.observationSymmetry<.3?"text-amber-500/60":"text-text-muted/40"}`,title:`Edge symmetry: ${Math.round(P.observationSymmetry*100)}% bidirectional`,children:[P.observationSymmetry>=.5?"↔":P.observationSymmetry<.3?"→":"⇄",Math.round(P.observationSymmetry*100),"%"]})]})]}):a.jsx("div",{}),N&&a.jsx("button",{onClick:N,className:"flex items-center gap-0.5 p-1 text-[10px] text-text-muted/30 hover:text-red-400 hover:bg-red-500/10 rounded transition-colors",title:"Remove from contacts",children:a.jsx(ls,{className:"w-3 h-3"})})]})]})}function Ds(c){return c.some(([,u])=>{var k;const g=(k=u.contact_type)==null?void 0:k.toLowerCase();return g==="room server"||g==="room_server"||g==="room"||g==="server"})}function Os({showTopology:c,validatedPolylineCount:u,filteredNeighborCount:g,hasLocalNode:k,meshTopology:m,zeroHopNeighbors:y,neighborsWithLocation:R}){return a.jsxs("div",{className:"absolute bottom-4 left-4 z-[600] text-xs",style:{background:"rgba(20, 20, 22, 0.95)",borderRadius:"0.75rem",padding:"0.625rem",border:"1px solid rgba(140, 160, 200, 0.2)",maxWidth:"150px"},children:[a.jsxs("div",{className:"text-text-secondary font-medium mb-1.5 flex items-center gap-1",children:["Nodes",a.jsx(Fn,{text:"Node type shown by shape/color. Yellow outer ring = direct RF neighbor."})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{background:"transparent",border:`3px solid ${Y.nodeColor}`,boxSizing:"border-box"}}),a.jsx("span",{className:"text-text-muted",children:"Node"})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:Y.hubColor}}),a.jsx("span",{className:"text-text-muted",children:"Hub"})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Lr,{className:"w-3 h-3 flex-shrink-0",style:{color:Y.localColor},strokeWidth:2.5}),a.jsx("span",{className:"text-text-muted",children:"Local"})]}),Ds(R)&&a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Pr,{className:"w-3 h-3 flex-shrink-0",style:{color:Y.roomServerColor},strokeWidth:2.5}),a.jsx("span",{className:"text-text-muted",children:"Room"})]}),m.mobileNodes.length>0&&a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{background:"transparent",border:`3px solid ${Y.mobileColor}`,boxSizing:"border-box"}}),a.jsx("span",{className:"text-text-muted",children:"Mobile"})]}),y.size>0&&a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsxs("div",{className:"relative w-4 h-4 flex-shrink-0",children:[a.jsx("div",{className:"absolute inset-0 rounded-full",style:{background:"transparent",border:`1px solid ${Y.neighborColor}`,boxSizing:"border-box",opacity:.8}}),a.jsx("div",{className:"absolute rounded-full",style:{top:"4px",left:"4px",width:"8px",height:"8px",background:"transparent",border:`2px solid ${Y.nodeColor}`,boxSizing:"border-box"}})]}),a.jsx("span",{className:"text-text-muted",children:"Neighbor"})]})]}),y.size>0&&a.jsx("div",{className:"mt-1.5 pt-1.5 border-t border-white/10",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"flex-shrink-0",style:{width:"14px",height:"2px",backgroundImage:`repeating-linear-gradient(90deg, ${Y.edges.neighborRest} 0, ${Y.edges.neighborRest} 3px, transparent 3px, transparent 5px)`,borderRadius:"1px"}}),a.jsx("span",{className:"text-text-muted",children:"Neighbor"}),a.jsx(Fn,{text:"Dashed gray → yellow on hover. Direct RF contact with local."})]})}),c&&u>0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-text-secondary font-medium mt-2 pt-2 border-t border-white/10 mb-1 flex items-center gap-1",children:["Topology",a.jsx(Fn,{text:"Links with 5+ validations. Thickness = relative strength."})]}),a.jsxs("div",{className:"flex flex-col gap-0.5 text-text-muted",children:[a.jsxs("div",{className:"flex justify-between tabular-nums",children:[a.jsx("span",{children:"Nodes"}),a.jsx("span",{className:"text-text-secondary",children:g+(k?1:0)})]}),a.jsxs("div",{className:"flex justify-between tabular-nums",children:[a.jsx("span",{children:"Links"}),a.jsx("span",{className:"text-text-secondary",children:u})]}),m.hubNodes.length>0&&a.jsxs("div",{className:"flex justify-between tabular-nums",children:[a.jsx("span",{children:"Hubs"}),a.jsx("span",{style:{color:Y.hubColor},children:m.hubNodes.length})]})]}),a.jsxs("div",{className:"flex flex-col gap-1 mt-1.5 pt-1.5 border-t border-white/10",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"flex-shrink-0",style:{width:"14px",height:"3px",backgroundColor:Y.edges.rest,borderRadius:"1px"}}),a.jsx("span",{className:"text-text-muted",children:"Link"}),a.jsx(Fn,{text:"Gray at rest. Hover to reveal type (teal=direct, indigo=loop)."})]}),m.loops.length>0&&a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsxs("div",{className:"flex-shrink-0 flex flex-col gap-0.5",style:{width:"14px"},children:[a.jsx("div",{style:{height:"2px",backgroundColor:Y.edges.rest,borderRadius:"1px"}}),a.jsx("div",{style:{height:"2px",backgroundColor:Y.edges.rest,borderRadius:"1px"}})]}),a.jsx("span",{className:"text-text-muted",children:"Redundant"})]})]}),m.loops.length>0&&a.jsx("div",{className:"mt-1.5 pt-1.5 border-t border-white/10",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(fs,{className:"w-3 h-3 flex-shrink-0",style:{color:Y.edges.hoverLoop}}),a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("span",{style:{color:Y.edges.hoverLoop},className:"font-medium",children:[m.loops.length," ",m.loops.length===1?"Loop":"Loops"]}),a.jsx("span",{className:"text-text-muted text-[10px] leading-tight",children:"Redundant paths"})]})]})})]})]})}const ht={background:"rgba(20, 20, 22, 0.95)",borderRadius:"0.75rem",border:"1px solid rgba(140, 160, 200, 0.2)"},Bs=(c,u=.4)=>({background:c,borderRadius:"0.75rem",border:`1px solid ${c.replace(/[\d.]+\)$/,`${u})`)}`});function zs({isDeepLoading:c,showDeepAnalysisModal:u,onDeepAnalysis:g,showTopology:k,onToggleTopology:m,hasValidatedPolylines:y,soloHubs:R,onToggleSoloHubs:b,hasHubNodes:v,soloDirect:x,onToggleSoloDirect:F,hasZeroHopNeighbors:_,isFullscreen:L,onToggleFullscreen:H}){return a.jsxs("div",{className:"absolute top-4 right-4 z-[600] flex gap-2",children:[a.jsxs("button",{onClick:g,disabled:c||u,className:"px-3 py-2 flex items-center gap-2 transition-colors hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed",style:ht,title:"Deep Analysis - Load full packet history and rebuild topology",children:[a.jsx("span",{className:"text-xs font-medium text-text-primary",children:"Deep Analysis"}),a.jsx(ms,{className:"w-4 h-4 text-accent-primary"})]}),y&&a.jsx("button",{onClick:m,className:"p-2 transition-colors hover:bg-white/10",style:k?Bs("rgba(74, 222, 128, 0.2)"):ht,title:k?"Hide topology lines":"Show topology lines",children:k?a.jsx(Jn,{className:"w-4 h-4 text-green-400"}):a.jsx(bs,{className:"w-4 h-4 text-text-secondary"})}),v&&a.jsx("button",{onClick:b,className:"p-2 transition-colors hover:bg-white/10",style:R?{...ht,background:"rgba(251, 191, 36, 0.25)",border:"1px solid rgba(251, 191, 36, 0.5)"}:ht,title:R?"Show all nodes":"Solo hubs & connections",children:a.jsx(ps,{className:`w-4 h-4 ${R?"text-amber-400":"text-text-secondary"}`})}),_&&a.jsx("button",{onClick:F,className:"p-2 transition-colors hover:bg-white/10",style:x?{...ht,background:"rgba(67, 56, 202, 0.35)",border:"1px solid rgba(67, 56, 202, 0.6)"}:ht,title:x?"Show all nodes":"Solo direct (0-hop) nodes",children:a.jsx(xs,{className:`w-4 h-4 ${x?"text-indigo-400":"text-text-secondary"}`})}),a.jsx("button",{onClick:H,className:"p-2 transition-colors hover:bg-white/10",style:ht,title:L?"Exit fullscreen":"Fullscreen",children:L?a.jsx(Ms,{className:"w-4 h-4 text-text-secondary"}):a.jsx(Es,{className:"w-4 h-4 text-text-secondary"})})]})}function Er(c){return c<.5?4*c*c*c:1-Math.pow(-2*c+2,3)/2}function Vs(c){return 1-Math.pow(1-c,3)}function Hs({showTopology:c,polylines:u,weakPolylines:g,maxCertainCount:k,getWeight:m}){const[y,R]=C.useState(new Map),[b,v]=C.useState(1),[x,F]=C.useState(!1),_=C.useRef(c),L=C.useRef(new Set),H=C.useRef(""),[N,P]=C.useState(new Map),[$,A]=C.useState(new Map),W=C.useRef(new Map),ie=C.useRef(new Map);C.useEffect(()=>{ie.current=y},[y]);const J=C.useCallback(()=>{R(new Map),L.current=new Set,H.current="",P(new Map),A(new Map)},[]);return C.useEffect(()=>{const oe=_.current,X=c;if(_.current=c,oe&&!X&&!x){F(!0);const Z=new Map(ie.current);let ee=null;const U=te=>{ee||(ee=te);const de=te-ee,B=Math.min(de/Fs,1),Q=Vs(B);R(()=>{const ne=new Map;for(const[pe,xe]of Z)ne.set(pe,xe*(1-Q));return ne}),B<1?requestAnimationFrame(U):(F(!1),R(new Map),L.current=new Set,H.current="",P(new Map),A(new Map))};requestAnimationFrame(U)}!oe&&X&&(R(new Map),L.current=new Set,H.current="")},[c,x]),C.useEffect(()=>{if(!c||x)return;const oe=[...u,...g],X=oe.map(U=>`${U.edge.key}:${U.edge.certainCount}`).sort().join(","),Z=L.current.size===0,ee=H.current!==""&&H.current!==X;if(Z||ee){const U=[],te=[];for(const{edge:B}of oe)L.current.has(B.key)?te.push(B.key):U.push(B.key);if(ee&&te.length>0){const B=new Map;for(const Q of te){const ne=W.current.get(Q);ne!==void 0&&B.set(Q,ne)}P(B),v(0)}const de=new Map;for(const{edge:B}of u){const Q=m(B.certainCount,k);de.set(B.key,Q)}if(A(de),R(B=>{const Q=new Map(B);for(const ne of U)Q.set(ne,0);for(const ne of te)Q.has(ne)||Q.set(ne,1);return Q}),U.length>0){let B=null;const Q=Math.min(100,Tn/U.length/2),ne=pe=>{B||(B=pe);const xe=pe-B;R(ae=>{const re=new Map(ae);return U.forEach((ye,he)=>{const fe=he*Q,ke=Math.max(0,xe-fe),ve=Math.min(ke/Tn,1),Be=Er(ve);re.set(ye,Be)}),re});const se=Tn+(U.length-1)*Q;xe<se&&requestAnimationFrame(ne)};requestAnimationFrame(ne)}if(ee&&te.length>0){let B=null;const Q=ne=>{B||(B=ne);const pe=ne-B,xe=Math.min(pe/Tn,1),se=Er(xe);v(se),xe<1&&requestAnimationFrame(Q)};requestAnimationFrame(Q)}for(const B of U)L.current.add(B)}for(const{edge:U}of u){const te=m(U.certainCount,k);W.current.set(U.key,te)}H.current=X},[c,x,u,g,k,m]),{edgeAnimProgress:y,weightAnimProgress:b,isExiting:x,animStartWeights:N,animTargetWeights:$,resetAnimationState:J}}function Ws(c){return c<.5?4*c*c*c:1-Math.pow(-2*c+2,3)/2}function Us({soloDirect:c,soloHubs:u,neighborHashes:g,hubConnectedNodes:k,directNodeSet:m,localConnectedNodes:y,showTopology:R}){const[b,v]=C.useState(new Map),x=C.useRef(c),F=C.useRef(u),_=C.useRef(new Map),L=C.useRef(null),H=C.useRef(k),N=C.useRef(m),P=C.useRef(y),$=C.useRef(R);return C.useEffect(()=>{H.current=k,N.current=m,P.current=y,$.current=R},[k,m,y,R]),C.useEffect(()=>{const W=x.current,ie=F.current,J=c,oe=u;if(x.current=c,F.current=u,!(W!==J)&&!(ie!==oe))return;L.current&&(cancelAnimationFrame(L.current),L.current=null);const ee=H.current,U=N.current,te=P.current,de=$.current;for(const se of g)_.current.has(se)||_.current.set(se,Math.random());const B=(se,ae,re)=>{const ye=ee.has(se),he=U.has(se),fe=de&&te.has(se);return!ae&&!re?!0:ae&&re?ye||he||fe:re?ye:ae?he||fe:!0},Q=[];for(const se of g){const ae=B(se,W,ie),re=B(se,J,oe);ae!==re&&Q.push({hash:se,startOpacity:ae?1:0,targetOpacity:re?1:0})}if(Q.length===0)return;v(se=>{const ae=new Map(se);for(const{hash:re,startOpacity:ye}of Q)ae.set(re,ye);return ae});const ne=Q;let pe=null;const xe=se=>{pe||(pe=se);const ae=se-pe;let re=!0;v(()=>{const he=new Map;for(const{hash:fe,startOpacity:ke,targetOpacity:ve}of ne){const Be=(_.current.get(fe)??0)*br,Ee=Math.max(0,ae-Be),Ne=Math.min(Ee/kr,1),be=Ws(Ne),me=ke+(ve-ke)*be;he.set(fe,me),Ne<1&&(re=!1)}return he});const ye=kr+br;ae<ye&&!re?L.current=requestAnimationFrame(xe):(L.current=null,v(new Map))};return L.current=requestAnimationFrame(xe),()=>{L.current&&(cancelAnimationFrame(L.current),L.current=null)}},[c,u,g]),{nodeOpacities:b,getNodeOpacity:(W,ie)=>b.has(W)?b.get(W):ie?1:0}}var rt={},mt={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jr;function Gs(){if(jr)return mt;jr=1;var c=Ir();function u(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g=Object.prototype.hasOwnProperty,k=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function R(e){return g.call(y,e)?!0:g.call(m,e)?!1:k.test(e)?y[e]=!0:(m[e]=!0,!1)}function b(e,r,o,l,h,d,S){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=l,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=e,this.type=r,this.sanitizeURL=d,this.removeEmptyString=S}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new b(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];v[r]=new b(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new b(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new b(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new b(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new b(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function F(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(x,F);v[r]=new b(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(x,F);v[r]=new b(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(x,F);v[r]=new b(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)});var _={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},L=["Webkit","ms","Moz","O"];Object.keys(_).forEach(function(e){L.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),_[r]=_[e]})});var H=/["'&<>]/;function N(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var r=H.exec(e);if(r){var o="",l,h=0;for(l=r.index;l<e.length;l++){switch(e.charCodeAt(l)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}h!==l&&(o+=e.substring(h,l)),h=l+1,o+=r}e=h!==l?o+e.substring(h,l):o}return e}var P=/([A-Z])/g,$=/^ms-/,A=Array.isArray;function W(e,r){return{insertionMode:e,selectedValue:r}}function ie(e,r,o){switch(r){case"select":return W(1,o.value!=null?o.value:o.defaultValue);case"svg":return W(2,null);case"math":return W(3,null);case"foreignObject":return W(1,null);case"table":return W(4,null);case"thead":case"tbody":case"tfoot":return W(5,null);case"colgroup":return W(7,null);case"tr":return W(6,null)}return 4<=e.insertionMode||e.insertionMode===0?W(1,null):e}var J=new Map;function oe(e,r,o){if(typeof o!="object")throw Error(u(62));r=!0;for(var l in o)if(g.call(o,l)){var h=o[l];if(h!=null&&typeof h!="boolean"&&h!==""){if(l.indexOf("--")===0){var d=N(l);h=N((""+h).trim())}else{d=l;var S=J.get(d);S!==void 0||(S=N(d.replace(P,"-$1").toLowerCase().replace($,"-ms-")),J.set(d,S)),d=S,h=typeof h=="number"?h===0||g.call(_,l)?""+h:h+"px":N((""+h).trim())}r?(r=!1,e.push(' style="',d,":",h)):e.push(";",d,":",h)}}r||e.push('"')}function X(e,r,o,l){switch(o){case"style":oe(e,r,l);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N"){if(r=v.hasOwnProperty(o)?v[o]:null,r!==null){switch(typeof l){case"function":case"symbol":return;case"boolean":if(!r.acceptsBooleans)return}switch(o=r.attributeName,r.type){case 3:l&&e.push(" ",o,'=""');break;case 4:l===!0?e.push(" ",o,'=""'):l!==!1&&e.push(" ",o,'="',N(l),'"');break;case 5:isNaN(l)||e.push(" ",o,'="',N(l),'"');break;case 6:!isNaN(l)&&1<=l&&e.push(" ",o,'="',N(l),'"');break;default:r.sanitizeURL&&(l=""+l),e.push(" ",o,'="',N(l),'"')}}else if(R(o)){switch(typeof l){case"function":case"symbol":return;case"boolean":if(r=o.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-")return}e.push(" ",o,'="',N(l),'"')}}}function Z(e,r,o){if(r!=null){if(o!=null)throw Error(u(60));if(typeof r!="object"||!("__html"in r))throw Error(u(61));r=r.__html,r!=null&&e.push(""+r)}}function ee(e){var r="";return c.Children.forEach(e,function(o){o!=null&&(r+=o)}),r}function U(e,r,o,l){e.push(B(o));var h=o=null,d;for(d in r)if(g.call(r,d)){var S=r[d];if(S!=null)switch(d){case"children":o=S;break;case"dangerouslySetInnerHTML":h=S;break;default:X(e,l,d,S)}}return e.push(">"),Z(e,h,o),typeof o=="string"?(e.push(N(o)),null):o}var te=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,de=new Map;function B(e){var r=de.get(e);if(r===void 0){if(!te.test(e))throw Error(u(65,e));r="<"+e,de.set(e,r)}return r}function Q(e,r,o,l,h){switch(r){case"select":e.push(B("select"));var d=null,S=null;for(G in o)if(g.call(o,G)){var j=o[G];if(j!=null)switch(G){case"children":d=j;break;case"dangerouslySetInnerHTML":S=j;break;case"defaultValue":case"value":break;default:X(e,l,G,j)}}return e.push(">"),Z(e,S,d),d;case"option":S=h.selectedValue,e.push(B("option"));var D=j=null,V=null,G=null;for(d in o)if(g.call(o,d)){var ce=o[d];if(ce!=null)switch(d){case"children":j=ce;break;case"selected":V=ce;break;case"dangerouslySetInnerHTML":G=ce;break;case"value":D=ce;default:X(e,l,d,ce)}}if(S!=null)if(o=D!==null?""+D:ee(j),A(S)){for(l=0;l<S.length;l++)if(""+S[l]===o){e.push(' selected=""');break}}else""+S===o&&e.push(' selected=""');else V&&e.push(' selected=""');return e.push(">"),Z(e,G,j),j;case"textarea":e.push(B("textarea")),G=S=d=null;for(j in o)if(g.call(o,j)&&(D=o[j],D!=null))switch(j){case"children":G=D;break;case"value":d=D;break;case"defaultValue":S=D;break;case"dangerouslySetInnerHTML":throw Error(u(91));default:X(e,l,j,D)}if(d===null&&S!==null&&(d=S),e.push(">"),G!=null){if(d!=null)throw Error(u(92));if(A(G)&&1<G.length)throw Error(u(93));d=""+G}return typeof d=="string"&&d[0]===`
`&&e.push(`
`),d!==null&&e.push(N(""+d)),null;case"input":e.push(B("input")),D=G=j=d=null;for(S in o)if(g.call(o,S)&&(V=o[S],V!=null))switch(S){case"children":case"dangerouslySetInnerHTML":throw Error(u(399,"input"));case"defaultChecked":D=V;break;case"defaultValue":j=V;break;case"checked":G=V;break;case"value":d=V;break;default:X(e,l,S,V)}return G!==null?X(e,l,"checked",G):D!==null&&X(e,l,"checked",D),d!==null?X(e,l,"value",d):j!==null&&X(e,l,"value",j),e.push("/>"),null;case"menuitem":e.push(B("menuitem"));for(var Le in o)if(g.call(o,Le)&&(d=o[Le],d!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":throw Error(u(400));default:X(e,l,Le,d)}return e.push(">"),null;case"title":e.push(B("title")),d=null;for(ce in o)if(g.call(o,ce)&&(S=o[ce],S!=null))switch(ce){case"children":d=S;break;case"dangerouslySetInnerHTML":throw Error(u(434));default:X(e,l,ce,S)}return e.push(">"),d;case"listing":case"pre":e.push(B(r)),S=d=null;for(D in o)if(g.call(o,D)&&(j=o[D],j!=null))switch(D){case"children":d=j;break;case"dangerouslySetInnerHTML":S=j;break;default:X(e,l,D,j)}if(e.push(">"),S!=null){if(d!=null)throw Error(u(60));if(typeof S!="object"||!("__html"in S))throw Error(u(61));o=S.__html,o!=null&&(typeof o=="string"&&0<o.length&&o[0]===`
`?e.push(`
`,o):e.push(""+o))}return typeof d=="string"&&d[0]===`
`&&e.push(`
`),d;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(B(r));for(var Ae in o)if(g.call(o,Ae)&&(d=o[Ae],d!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":throw Error(u(399,r));default:X(e,l,Ae,d)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return U(e,o,r,l);case"html":return h.insertionMode===0&&e.push("<!DOCTYPE html>"),U(e,o,r,l);default:if(r.indexOf("-")===-1&&typeof o.is!="string")return U(e,o,r,l);e.push(B(r)),S=d=null;for(V in o)if(g.call(o,V)&&(j=o[V],j!=null))switch(V){case"children":d=j;break;case"dangerouslySetInnerHTML":S=j;break;case"style":oe(e,l,j);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:R(V)&&typeof j!="function"&&typeof j!="symbol"&&e.push(" ",V,'="',N(j),'"')}return e.push(">"),Z(e,S,d),d}}function ne(e,r,o){if(e.push('<!--$?--><template id="'),o===null)throw Error(u(395));return e.push(o),e.push('"></template>')}function pe(e,r,o,l){switch(o.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(r.segmentPrefix),r=l.toString(16),e.push(r),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(r.segmentPrefix),r=l.toString(16),e.push(r),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(r.segmentPrefix),r=l.toString(16),e.push(r),e.push('">');case 4:return e.push('<table hidden id="'),e.push(r.segmentPrefix),r=l.toString(16),e.push(r),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(r.segmentPrefix),r=l.toString(16),e.push(r),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(r.segmentPrefix),r=l.toString(16),e.push(r),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(r.segmentPrefix),r=l.toString(16),e.push(r),e.push('">');default:throw Error(u(397))}}function xe(e,r){switch(r.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(u(397))}}var se=/[<\u2028\u2029]/g;function ae(e){return JSON.stringify(e).replace(se,function(r){switch(r){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function re(e,r){return r=r===void 0?"":r,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:r+"P:",segmentPrefix:r+"S:",boundaryPrefix:r+"B:",idPrefix:r,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function ye(e,r,o,l){return o.generateStaticMarkup?(e.push(N(r)),!1):(r===""?e=l:(l&&e.push("<!-- -->"),e.push(N(r)),e=!0),e)}var he=Object.assign,fe=Symbol.for("react.element"),ke=Symbol.for("react.portal"),ve=Symbol.for("react.fragment"),Be=Symbol.for("react.strict_mode"),Ee=Symbol.for("react.profiler"),Ne=Symbol.for("react.provider"),be=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),ot=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),Me=Symbol.for("react.scope"),xt=Symbol.for("react.debug_trace_mode"),Ye=Symbol.for("react.legacy_hidden"),Ft=Symbol.for("react.default_value"),Xe=Symbol.iterator;function He(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ve:return"Fragment";case ke:return"Portal";case Ee:return"Profiler";case Be:return"StrictMode";case Re:return"Suspense";case Ie:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case be:return(e.displayName||"Context")+".Consumer";case Ne:return(e._context.displayName||"Context")+".Provider";case me:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ot:return r=e.displayName||null,r!==null?r:He(e.type)||"Memo";case ge:r=e._payload,e=e._init;try{return He(e(r))}catch{}}return null}var We={};function yt(e,r){if(e=e.contextTypes,!e)return We;var o={},l;for(l in e)o[l]=r[l];return o}var $e=null;function we(e,r){if(e!==r){e.context._currentValue2=e.parentValue,e=e.parent;var o=r.parent;if(e===null){if(o!==null)throw Error(u(401))}else{if(o===null)throw Error(u(401));we(e,o)}r.context._currentValue2=r.value}}function vt(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&vt(e)}function St(e){var r=e.parent;r!==null&&St(r),e.context._currentValue2=e.value}function wt(e,r){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(u(402));e.depth===r.depth?we(e,r):wt(e,r)}function kt(e,r){var o=r.parent;if(o===null)throw Error(u(402));e.depth===o.depth?we(e,o):kt(e,o),r.context._currentValue2=r.value}function Ke(e){var r=$e;r!==e&&(r===null?St(e):e===null?vt(r):r.depth===e.depth?we(r,e):r.depth>e.depth?wt(r,e):kt(r,e),$e=e)}var bt={isMounted:function(){return!1},enqueueSetState:function(e,r){e=e._reactInternals,e.queue!==null&&e.queue.push(r)},enqueueReplaceState:function(e,r){e=e._reactInternals,e.replace=!0,e.queue=[r]},enqueueForceUpdate:function(){}};function Ct(e,r,o,l){var h=e.state!==void 0?e.state:null;e.updater=bt,e.props=o,e.state=h;var d={queue:[],replace:!1};e._reactInternals=d;var S=r.contextType;if(e.context=typeof S=="object"&&S!==null?S._currentValue2:l,S=r.getDerivedStateFromProps,typeof S=="function"&&(S=S(o,h),h=S==null?h:he({},h,S),e.state=h),typeof r.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(r=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),r!==e.state&&bt.enqueueReplaceState(e,e.state,null),d.queue!==null&&0<d.queue.length)if(r=d.queue,S=d.replace,d.queue=null,d.replace=!1,S&&r.length===1)e.state=r[0];else{for(d=S?r[0]:e.state,h=!0,S=S?1:0;S<r.length;S++){var j=r[S];j=typeof j=="function"?j.call(e,d,o,l):j,j!=null&&(h?(h=!1,d=he({},d,j)):he(d,j))}e.state=d}else d.queue=null}var _t={id:1,overflow:""};function it(e,r,o){var l=e.id;e=e.overflow;var h=32-Ze(l)-1;l&=~(1<<h),o+=1;var d=32-Ze(r)+h;if(30<d){var S=h-h%5;return d=(l&(1<<S)-1).toString(32),l>>=S,h-=S,{id:1<<32-Ze(r)+h|o<<h|l,overflow:d+e}}return{id:1<<d|o<<h|l,overflow:e}}var Ze=Math.clz32?Math.clz32:Pt,It=Math.log,$t=Math.LN2;function Pt(e){return e>>>=0,e===0?32:31-(It(e)/$t|0)|0}function Lt(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var At=typeof Object.is=="function"?Object.is:Lt,M=null,T=null,z=null,I=null,ze=!1,Je=!1,Ve=0,Pe=null,Et=0;function Ue(){if(M===null)throw Error(u(321));return M}function nn(){if(0<Et)throw Error(u(312));return{memoizedState:null,queue:null,next:null}}function Dt(){return I===null?z===null?(ze=!1,z=I=nn()):(ze=!0,I=z):I.next===null?(ze=!1,I=I.next=nn()):(ze=!0,I=I.next),I}function Ot(){T=M=null,Je=!1,z=null,Et=0,I=Pe=null}function rn(e,r){return typeof r=="function"?r(e):r}function sn(e,r,o){if(M=Ue(),I=Dt(),ze){var l=I.queue;if(r=l.dispatch,Pe!==null&&(o=Pe.get(l),o!==void 0)){Pe.delete(l),l=I.memoizedState;do l=e(l,o.action),o=o.next;while(o!==null);return I.memoizedState=l,[l,r]}return[I.memoizedState,r]}return e=e===rn?typeof r=="function"?r():r:o!==void 0?o(r):r,I.memoizedState=e,e=I.queue={last:null,dispatch:null},e=e.dispatch=Pn.bind(null,M,e),[I.memoizedState,e]}function on(e,r){if(M=Ue(),I=Dt(),r=r===void 0?null:r,I!==null){var o=I.memoizedState;if(o!==null&&r!==null){var l=o[1];e:if(l===null)l=!1;else{for(var h=0;h<l.length&&h<r.length;h++)if(!At(r[h],l[h])){l=!1;break e}l=!0}if(l)return o[0]}}return e=e(),I.memoizedState=[e,r],e}function Pn(e,r,o){if(25<=Et)throw Error(u(301));if(e===M)if(Je=!0,e={action:o,next:null},Pe===null&&(Pe=new Map),o=Pe.get(r),o===void 0)Pe.set(r,e);else{for(r=o;r.next!==null;)r=r.next;r.next=e}}function Ln(){throw Error(u(394))}function jt(){}var ln={readContext:function(e){return e._currentValue2},useContext:function(e){return Ue(),e._currentValue2},useMemo:on,useReducer:sn,useRef:function(e){M=Ue(),I=Dt();var r=I.memoizedState;return r===null?(e={current:e},I.memoizedState=e):r},useState:function(e){return sn(rn,e)},useInsertionEffect:jt,useLayoutEffect:function(){},useCallback:function(e,r){return on(function(){return e},r)},useImperativeHandle:jt,useEffect:jt,useDebugValue:jt,useDeferredValue:function(e){return Ue(),e},useTransition:function(){return Ue(),[!1,Ln]},useId:function(){var e=T.treeContext,r=e.overflow;e=e.id,e=(e&~(1<<32-Ze(e)-1)).toString(32)+r;var o=Mt;if(o===null)throw Error(u(404));return r=Ve++,e=":"+o.idPrefix+"R"+e,0<r&&(e+="H"+r.toString(32)),e+":"},useMutableSource:function(e,r){return Ue(),r(e._source)},useSyncExternalStore:function(e,r,o){if(o===void 0)throw Error(u(407));return o()}},Mt=null,Bt=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function An(e){return console.error(e),null}function lt(){}function Dn(e,r,o,l,h,d,S,j,D){var V=[],G=new Set;return r={destination:null,responseState:r,progressiveChunkSize:l===void 0?12800:l,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:G,pingedTasks:V,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:h===void 0?An:h,onAllReady:lt,onShellReady:S===void 0?lt:S,onShellError:lt,onFatalError:lt},o=Nt(r,0,null,o,!1,!1),o.parentFlushed=!0,e=zt(r,e,null,o,G,We,null,_t),V.push(e),r}function zt(e,r,o,l,h,d,S,j){e.allPendingTasks++,o===null?e.pendingRootTasks++:o.pendingTasks++;var D={node:r,ping:function(){var V=e.pingedTasks;V.push(D),V.length===1&&pn(e)},blockedBoundary:o,blockedSegment:l,abortSet:h,legacyContext:d,context:S,treeContext:j};return h.add(D),D}function Nt(e,r,o,l,h,d){return{status:0,id:-1,index:r,parentFlushed:!1,chunks:[],children:[],formatContext:l,boundary:o,lastPushedText:h,textEmbedded:d}}function at(e,r){if(e=e.onError(r),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Rt(e,r){var o=e.onShellError;o(r),o=e.onFatalError,o(r),e.destination!==null?(e.status=2,e.destination.destroy(r)):(e.status=1,e.fatalError=r)}function an(e,r,o,l,h){for(M={},T=r,Ve=0,e=o(l,h);Je;)Je=!1,Ve=0,Et+=1,I=null,e=o(l,h);return Ot(),e}function un(e,r,o,l){var h=o.render(),d=l.childContextTypes;if(d!=null){var S=r.legacyContext;if(typeof o.getChildContext!="function")l=S;else{o=o.getChildContext();for(var j in o)if(!(j in d))throw Error(u(108,He(l)||"Unknown",j));l=he({},S,o)}r.legacyContext=l,je(e,r,h),r.legacyContext=S}else je(e,r,h)}function cn(e,r){if(e&&e.defaultProps){r=he({},r),e=e.defaultProps;for(var o in e)r[o]===void 0&&(r[o]=e[o]);return r}return r}function Vt(e,r,o,l,h){if(typeof o=="function")if(o.prototype&&o.prototype.isReactComponent){h=yt(o,r.legacyContext);var d=o.contextType;d=new o(l,typeof d=="object"&&d!==null?d._currentValue2:h),Ct(d,o,l,h),un(e,r,d,o)}else{d=yt(o,r.legacyContext),h=an(e,r,o,l,d);var S=Ve!==0;if(typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0)Ct(h,o,l,d),un(e,r,h,o);else if(S){l=r.treeContext,r.treeContext=it(l,1,0);try{je(e,r,h)}finally{r.treeContext=l}}else je(e,r,h)}else if(typeof o=="string"){switch(h=r.blockedSegment,d=Q(h.chunks,o,l,e.responseState,h.formatContext),h.lastPushedText=!1,S=h.formatContext,h.formatContext=ie(S,o,l),Ht(e,r,d),h.formatContext=S,o){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:h.chunks.push("</",o,">")}h.lastPushedText=!1}else{switch(o){case Ye:case xt:case Be:case Ee:case ve:je(e,r,l.children);return;case Ie:je(e,r,l.children);return;case Me:throw Error(u(343));case Re:e:{o=r.blockedBoundary,h=r.blockedSegment,d=l.fallback,l=l.children,S=new Set;var j={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:S,errorDigest:null},D=Nt(e,h.chunks.length,j,h.formatContext,!1,!1);h.children.push(D),h.lastPushedText=!1;var V=Nt(e,0,null,h.formatContext,!1,!1);V.parentFlushed=!0,r.blockedBoundary=j,r.blockedSegment=V;try{if(Ht(e,r,l),e.responseState.generateStaticMarkup||V.lastPushedText&&V.textEmbedded&&V.chunks.push("<!-- -->"),V.status=1,Qe(j,V),j.pendingTasks===0)break e}catch(G){V.status=4,j.forceClientRender=!0,j.errorDigest=at(e,G)}finally{r.blockedBoundary=o,r.blockedSegment=h}r=zt(e,d,o,D,S,r.legacyContext,r.context,r.treeContext),e.pingedTasks.push(r)}return}if(typeof o=="object"&&o!==null)switch(o.$$typeof){case me:if(l=an(e,r,o.render,l,h),Ve!==0){o=r.treeContext,r.treeContext=it(o,1,0);try{je(e,r,l)}finally{r.treeContext=o}}else je(e,r,l);return;case ot:o=o.type,l=cn(o,l),Vt(e,r,o,l,h);return;case Ne:if(h=l.children,o=o._context,l=l.value,d=o._currentValue2,o._currentValue2=l,S=$e,$e=l={parent:S,depth:S===null?0:S.depth+1,context:o,parentValue:d,value:l},r.context=l,je(e,r,h),e=$e,e===null)throw Error(u(403));l=e.parentValue,e.context._currentValue2=l===Ft?e.context._defaultValue:l,e=$e=e.parent,r.context=e;return;case be:l=l.children,l=l(o._currentValue2),je(e,r,l);return;case ge:h=o._init,o=h(o._payload),l=cn(o,l),Vt(e,r,o,l,void 0);return}throw Error(u(130,o==null?o:typeof o,""))}}function je(e,r,o){if(r.node=o,typeof o=="object"&&o!==null){switch(o.$$typeof){case fe:Vt(e,r,o.type,o.props,o.ref);return;case ke:throw Error(u(257));case ge:var l=o._init;o=l(o._payload),je(e,r,o);return}if(A(o)){dn(e,r,o);return}if(o===null||typeof o!="object"?l=null:(l=Xe&&o[Xe]||o["@@iterator"],l=typeof l=="function"?l:null),l&&(l=l.call(o))){if(o=l.next(),!o.done){var h=[];do h.push(o.value),o=l.next();while(!o.done);dn(e,r,h)}return}throw e=Object.prototype.toString.call(o),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":e))}typeof o=="string"?(l=r.blockedSegment,l.lastPushedText=ye(r.blockedSegment.chunks,o,e.responseState,l.lastPushedText)):typeof o=="number"&&(l=r.blockedSegment,l.lastPushedText=ye(r.blockedSegment.chunks,""+o,e.responseState,l.lastPushedText))}function dn(e,r,o){for(var l=o.length,h=0;h<l;h++){var d=r.treeContext;r.treeContext=it(d,l,h);try{Ht(e,r,o[h])}finally{r.treeContext=d}}}function Ht(e,r,o){var l=r.blockedSegment.formatContext,h=r.legacyContext,d=r.context;try{return je(e,r,o)}catch(D){if(Ot(),typeof D=="object"&&D!==null&&typeof D.then=="function"){o=D;var S=r.blockedSegment,j=Nt(e,S.chunks.length,null,S.formatContext,S.lastPushedText,!0);S.children.push(j),S.lastPushedText=!1,e=zt(e,r.node,r.blockedBoundary,j,r.abortSet,r.legacyContext,r.context,r.treeContext).ping,o.then(e,e),r.blockedSegment.formatContext=l,r.legacyContext=h,r.context=d,Ke(d)}else throw r.blockedSegment.formatContext=l,r.legacyContext=h,r.context=d,Ke(d),D}}function Wt(e){var r=e.blockedBoundary;e=e.blockedSegment,e.status=3,et(this,r,e)}function fn(e,r,o){var l=e.blockedBoundary;e.blockedSegment.status=3,l===null?(r.allPendingTasks--,r.status!==2&&(r.status=2,r.destination!==null&&r.destination.push(null))):(l.pendingTasks--,l.forceClientRender||(l.forceClientRender=!0,e=o===void 0?Error(u(432)):o,l.errorDigest=r.onError(e),l.parentFlushed&&r.clientRenderedBoundaries.push(l)),l.fallbackAbortableTasks.forEach(function(h){return fn(h,r,o)}),l.fallbackAbortableTasks.clear(),r.allPendingTasks--,r.allPendingTasks===0&&(l=r.onAllReady,l()))}function Qe(e,r){if(r.chunks.length===0&&r.children.length===1&&r.children[0].boundary===null){var o=r.children[0];o.id=r.id,o.parentFlushed=!0,o.status===1&&Qe(e,o)}else e.completedSegments.push(r)}function et(e,r,o){if(r===null){if(o.parentFlushed){if(e.completedRootSegment!==null)throw Error(u(389));e.completedRootSegment=o}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=lt,r=e.onShellReady,r())}else r.pendingTasks--,r.forceClientRender||(r.pendingTasks===0?(o.parentFlushed&&o.status===1&&Qe(r,o),r.parentFlushed&&e.completedBoundaries.push(r),r.fallbackAbortableTasks.forEach(Wt,e),r.fallbackAbortableTasks.clear()):o.parentFlushed&&o.status===1&&(Qe(r,o),r.completedSegments.length===1&&r.parentFlushed&&e.partialBoundaries.push(r)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function pn(e){if(e.status!==2){var r=$e,o=Bt.current;Bt.current=ln;var l=Mt;Mt=e.responseState;try{var h=e.pingedTasks,d;for(d=0;d<h.length;d++){var S=h[d],j=e,D=S.blockedSegment;if(D.status===0){Ke(S.context);try{je(j,S,S.node),j.responseState.generateStaticMarkup||D.lastPushedText&&D.textEmbedded&&D.chunks.push("<!-- -->"),S.abortSet.delete(S),D.status=1,et(j,S.blockedBoundary,D)}catch(Te){if(Ot(),typeof Te=="object"&&Te!==null&&typeof Te.then=="function"){var V=S.ping;Te.then(V,V)}else{S.abortSet.delete(S),D.status=4;var G=S.blockedBoundary,ce=Te,Le=at(j,ce);if(G===null?Rt(j,ce):(G.pendingTasks--,G.forceClientRender||(G.forceClientRender=!0,G.errorDigest=Le,G.parentFlushed&&j.clientRenderedBoundaries.push(G))),j.allPendingTasks--,j.allPendingTasks===0){var Ae=j.onAllReady;Ae()}}}finally{}}}h.splice(0,d),e.destination!==null&&Tt(e,e.destination)}catch(Te){at(e,Te),Rt(e,Te)}finally{Mt=l,Bt.current=o,o===ln&&Ke(r)}}}function ut(e,r,o){switch(o.parentFlushed=!0,o.status){case 0:var l=o.id=e.nextSegmentId++;return o.lastPushedText=!1,o.textEmbedded=!1,e=e.responseState,r.push('<template id="'),r.push(e.placeholderPrefix),e=l.toString(16),r.push(e),r.push('"></template>');case 1:o.status=2;var h=!0;l=o.chunks;var d=0;o=o.children;for(var S=0;S<o.length;S++){for(h=o[S];d<h.index;d++)r.push(l[d]);h=ct(e,r,h)}for(;d<l.length-1;d++)r.push(l[d]);return d<l.length&&(h=r.push(l[d])),h;default:throw Error(u(390))}}function ct(e,r,o){var l=o.boundary;if(l===null)return ut(e,r,o);if(l.parentFlushed=!0,l.forceClientRender)return e.responseState.generateStaticMarkup||(l=l.errorDigest,r.push("<!--$!-->"),r.push("<template"),l&&(r.push(' data-dgst="'),l=N(l),r.push(l),r.push('"')),r.push("></template>")),ut(e,r,o),e=e.responseState.generateStaticMarkup?!0:r.push("<!--/$-->"),e;if(0<l.pendingTasks){l.rootSegmentID=e.nextSegmentId++,0<l.completedSegments.length&&e.partialBoundaries.push(l);var h=e.responseState,d=h.nextSuspenseID++;return h=h.boundaryPrefix+d.toString(16),l=l.id=h,ne(r,e.responseState,l),ut(e,r,o),r.push("<!--/$-->")}if(l.byteSize>e.progressiveChunkSize)return l.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(l),ne(r,e.responseState,l.id),ut(e,r,o),r.push("<!--/$-->");if(e.responseState.generateStaticMarkup||r.push("<!--$-->"),o=l.completedSegments,o.length!==1)throw Error(u(391));return ct(e,r,o[0]),e=e.responseState.generateStaticMarkup?!0:r.push("<!--/$-->"),e}function Ut(e,r,o){return pe(r,e.responseState,o.formatContext,o.id),ct(e,r,o),xe(r,o.formatContext)}function Gt(e,r,o){for(var l=o.completedSegments,h=0;h<l.length;h++)qt(e,r,o,l[h]);if(l.length=0,e=e.responseState,l=o.id,o=o.rootSegmentID,r.push(e.startInlineScript),e.sentCompleteBoundaryFunction?r.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,r.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),l===null)throw Error(u(395));return o=o.toString(16),r.push(l),r.push('","'),r.push(e.segmentPrefix),r.push(o),r.push('")<\/script>')}function qt(e,r,o,l){if(l.status===2)return!0;var h=l.id;if(h===-1){if((l.id=o.rootSegmentID)===-1)throw Error(u(392));return Ut(e,r,l)}return Ut(e,r,l),e=e.responseState,r.push(e.startInlineScript),e.sentCompleteSegmentFunction?r.push('$RS("'):(e.sentCompleteSegmentFunction=!0,r.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),r.push(e.segmentPrefix),h=h.toString(16),r.push(h),r.push('","'),r.push(e.placeholderPrefix),r.push(h),r.push('")<\/script>')}function Tt(e,r){try{var o=e.completedRootSegment;if(o!==null&&e.pendingRootTasks===0){ct(e,r,o),e.completedRootSegment=null;var l=e.responseState.bootstrapChunks;for(o=0;o<l.length-1;o++)r.push(l[o]);o<l.length&&r.push(l[o])}var h=e.clientRenderedBoundaries,d;for(d=0;d<h.length;d++){var S=h[d];l=r;var j=e.responseState,D=S.id,V=S.errorDigest,G=S.errorMessage,ce=S.errorComponentStack;if(l.push(j.startInlineScript),j.sentClientRenderFunction?l.push('$RX("'):(j.sentClientRenderFunction=!0,l.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),D===null)throw Error(u(395));if(l.push(D),l.push('"'),V||G||ce){l.push(",");var Le=ae(V||"");l.push(Le)}if(G||ce){l.push(",");var Ae=ae(G||"");l.push(Ae)}if(ce){l.push(",");var Te=ae(ce);l.push(Te)}if(!l.push(")<\/script>")){e.destination=null,d++,h.splice(0,d);return}}h.splice(0,d);var dt=e.completedBoundaries;for(d=0;d<dt.length;d++)if(!Gt(e,r,dt[d])){e.destination=null,d++,dt.splice(0,d);return}dt.splice(0,d);var Ge=e.partialBoundaries;for(d=0;d<Ge.length;d++){var Xt=Ge[d];e:{h=e,S=r;var ft=Xt.completedSegments;for(j=0;j<ft.length;j++)if(!qt(h,S,Xt,ft[j])){j++,ft.splice(0,j);var gn=!1;break e}ft.splice(0,j),gn=!0}if(!gn){e.destination=null,d++,Ge.splice(0,d);return}}Ge.splice(0,d);var tt=e.completedBoundaries;for(d=0;d<tt.length;d++)if(!Gt(e,r,tt[d])){e.destination=null,d++,tt.splice(0,d);return}tt.splice(0,d)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&r.push(null)}}function hn(e,r){try{var o=e.abortableTasks;o.forEach(function(l){return fn(l,e,r)}),o.clear(),e.destination!==null&&Tt(e,e.destination)}catch(l){at(e,l),Rt(e,l)}}function mn(){}function Yt(e,r,o,l){var h=!1,d=null,S="",j={push:function(V){return V!==null&&(S+=V),!0},destroy:function(V){h=!0,d=V}},D=!1;if(e=Dn(e,re(o,r?r.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,mn,void 0,function(){D=!0}),pn(e),hn(e,l),e.status===1)e.status=2,j.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=j;try{Tt(e,j)}catch(V){at(e,V),Rt(e,V)}}if(h)throw d;if(!D)throw Error(u(426));return S}return mt.renderToNodeStream=function(){throw Error(u(207))},mt.renderToStaticMarkup=function(e,r){return Yt(e,r,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},mt.renderToStaticNodeStream=function(){throw Error(u(208))},mt.renderToString=function(e,r){return Yt(e,r,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')},mt.version="18.3.1",mt}var _n={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mr;function qs(){if(Mr)return _n;Mr=1;var c=Ir();function u(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g=null,k=0;function m(t,n){if(n.length!==0)if(512<n.length)0<k&&(t.enqueue(new Uint8Array(g.buffer,0,k)),g=new Uint8Array(512),k=0),t.enqueue(n);else{var s=g.length-k;s<n.length&&(s===0?t.enqueue(g):(g.set(n.subarray(0,s),k),t.enqueue(g),n=n.subarray(s)),g=new Uint8Array(512),k=0),g.set(n,k),k+=n.length}}function y(t,n){return m(t,n),!0}function R(t){g&&0<k&&(t.enqueue(new Uint8Array(g.buffer,0,k)),g=null,k=0)}var b=new TextEncoder;function v(t){return b.encode(t)}function x(t){return b.encode(t)}function F(t,n){typeof t.error=="function"?t.error(n):t.close()}var _=Object.prototype.hasOwnProperty,L=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H={},N={};function P(t){return _.call(N,t)?!0:_.call(H,t)?!1:L.test(t)?N[t]=!0:(H[t]=!0,!1)}function $(t,n,s,i,p,f,w){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=i,this.attributeNamespace=p,this.mustUseProperty=s,this.propertyName=t,this.type=n,this.sanitizeURL=f,this.removeEmptyString=w}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){A[t]=new $(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];A[n]=new $(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){A[t]=new $(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){A[t]=new $(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){A[t]=new $(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){A[t]=new $(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){A[t]=new $(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){A[t]=new $(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){A[t]=new $(t,5,!1,t.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function ie(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(W,ie);A[n]=new $(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(W,ie);A[n]=new $(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(W,ie);A[n]=new $(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){A[t]=new $(t,1,!1,t.toLowerCase(),null,!1,!1)}),A.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){A[t]=new $(t,1,!1,t.toLowerCase(),null,!0,!0)});var J={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oe=["Webkit","ms","Moz","O"];Object.keys(J).forEach(function(t){oe.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),J[n]=J[t]})});var X=/["'&<>]/;function Z(t){if(typeof t=="boolean"||typeof t=="number")return""+t;t=""+t;var n=X.exec(t);if(n){var s="",i,p=0;for(i=n.index;i<t.length;i++){switch(t.charCodeAt(i)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#x27;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}p!==i&&(s+=t.substring(p,i)),p=i+1,s+=n}t=p!==i?s+t.substring(p,i):s}return t}var ee=/([A-Z])/g,U=/^ms-/,te=Array.isArray,de=x("<script>"),B=x("<\/script>"),Q=x('<script src="'),ne=x('<script type="module" src="'),pe=x('" async=""><\/script>'),xe=/(<\/|<)(s)(cript)/gi;function se(t,n,s,i){return""+n+(s==="s"?"\\u0073":"\\u0053")+i}function ae(t,n,s,i,p){t=t===void 0?"":t,n=n===void 0?de:x('<script nonce="'+Z(n)+'">');var f=[];if(s!==void 0&&f.push(n,v((""+s).replace(xe,se)),B),i!==void 0)for(s=0;s<i.length;s++)f.push(Q,v(Z(i[s])),pe);if(p!==void 0)for(i=0;i<p.length;i++)f.push(ne,v(Z(p[i])),pe);return{bootstrapChunks:f,startInlineScript:n,placeholderPrefix:x(t+"P:"),segmentPrefix:x(t+"S:"),boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function re(t,n){return{insertionMode:t,selectedValue:n}}function ye(t){return re(t==="http://www.w3.org/2000/svg"?2:t==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function he(t,n,s){switch(n){case"select":return re(1,s.value!=null?s.value:s.defaultValue);case"svg":return re(2,null);case"math":return re(3,null);case"foreignObject":return re(1,null);case"table":return re(4,null);case"thead":case"tbody":case"tfoot":return re(5,null);case"colgroup":return re(7,null);case"tr":return re(6,null)}return 4<=t.insertionMode||t.insertionMode===0?re(1,null):t}var fe=x("<!-- -->");function ke(t,n,s,i){return n===""?i:(i&&t.push(fe),t.push(v(Z(n))),!0)}var ve=new Map,Be=x(' style="'),Ee=x(":"),Ne=x(";");function be(t,n,s){if(typeof s!="object")throw Error(u(62));n=!0;for(var i in s)if(_.call(s,i)){var p=s[i];if(p!=null&&typeof p!="boolean"&&p!==""){if(i.indexOf("--")===0){var f=v(Z(i));p=v(Z((""+p).trim()))}else{f=i;var w=ve.get(f);w!==void 0||(w=x(Z(f.replace(ee,"-$1").toLowerCase().replace(U,"-ms-"))),ve.set(f,w)),f=w,p=typeof p=="number"?p===0||_.call(J,i)?v(""+p):v(p+"px"):v(Z((""+p).trim()))}n?(n=!1,t.push(Be,f,Ee,p)):t.push(Ne,f,Ee,p)}}n||t.push(Ie)}var me=x(" "),Re=x('="'),Ie=x('"'),ot=x('=""');function ge(t,n,s,i){switch(s){case"style":be(t,n,i);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N"){if(n=A.hasOwnProperty(s)?A[s]:null,n!==null){switch(typeof i){case"function":case"symbol":return;case"boolean":if(!n.acceptsBooleans)return}switch(s=v(n.attributeName),n.type){case 3:i&&t.push(me,s,ot);break;case 4:i===!0?t.push(me,s,ot):i!==!1&&t.push(me,s,Re,v(Z(i)),Ie);break;case 5:isNaN(i)||t.push(me,s,Re,v(Z(i)),Ie);break;case 6:!isNaN(i)&&1<=i&&t.push(me,s,Re,v(Z(i)),Ie);break;default:n.sanitizeURL&&(i=""+i),t.push(me,s,Re,v(Z(i)),Ie)}}else if(P(s)){switch(typeof i){case"function":case"symbol":return;case"boolean":if(n=s.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-")return}t.push(me,v(s),Re,v(Z(i)),Ie)}}}var Me=x(">"),xt=x("/>");function Ye(t,n,s){if(n!=null){if(s!=null)throw Error(u(60));if(typeof n!="object"||!("__html"in n))throw Error(u(61));n=n.__html,n!=null&&t.push(v(""+n))}}function Ft(t){var n="";return c.Children.forEach(t,function(s){s!=null&&(n+=s)}),n}var Xe=x(' selected=""');function He(t,n,s,i){t.push(we(s));var p=s=null,f;for(f in n)if(_.call(n,f)){var w=n[f];if(w!=null)switch(f){case"children":s=w;break;case"dangerouslySetInnerHTML":p=w;break;default:ge(t,i,f,w)}}return t.push(Me),Ye(t,p,s),typeof s=="string"?(t.push(v(Z(s))),null):s}var We=x(`
`),yt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,$e=new Map;function we(t){var n=$e.get(t);if(n===void 0){if(!yt.test(t))throw Error(u(65,t));n=x("<"+t),$e.set(t,n)}return n}var vt=x("<!DOCTYPE html>");function St(t,n,s,i,p){switch(n){case"select":t.push(we("select"));var f=null,w=null;for(q in s)if(_.call(s,q)){var E=s[q];if(E!=null)switch(q){case"children":f=E;break;case"dangerouslySetInnerHTML":w=E;break;case"defaultValue":case"value":break;default:ge(t,i,q,E)}}return t.push(Me),Ye(t,w,f),f;case"option":w=p.selectedValue,t.push(we("option"));var O=E=null,K=null,q=null;for(f in s)if(_.call(s,f)){var ue=s[f];if(ue!=null)switch(f){case"children":E=ue;break;case"selected":K=ue;break;case"dangerouslySetInnerHTML":q=ue;break;case"value":O=ue;default:ge(t,i,f,ue)}}if(w!=null)if(s=O!==null?""+O:Ft(E),te(w)){for(i=0;i<w.length;i++)if(""+w[i]===s){t.push(Xe);break}}else""+w===s&&t.push(Xe);else K&&t.push(Xe);return t.push(Me),Ye(t,q,E),E;case"textarea":t.push(we("textarea")),q=w=f=null;for(E in s)if(_.call(s,E)&&(O=s[E],O!=null))switch(E){case"children":q=O;break;case"value":f=O;break;case"defaultValue":w=O;break;case"dangerouslySetInnerHTML":throw Error(u(91));default:ge(t,i,E,O)}if(f===null&&w!==null&&(f=w),t.push(Me),q!=null){if(f!=null)throw Error(u(92));if(te(q)&&1<q.length)throw Error(u(93));f=""+q}return typeof f=="string"&&f[0]===`
`&&t.push(We),f!==null&&t.push(v(Z(""+f))),null;case"input":t.push(we("input")),O=q=E=f=null;for(w in s)if(_.call(s,w)&&(K=s[w],K!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(u(399,"input"));case"defaultChecked":O=K;break;case"defaultValue":E=K;break;case"checked":q=K;break;case"value":f=K;break;default:ge(t,i,w,K)}return q!==null?ge(t,i,"checked",q):O!==null&&ge(t,i,"checked",O),f!==null?ge(t,i,"value",f):E!==null&&ge(t,i,"value",E),t.push(xt),null;case"menuitem":t.push(we("menuitem"));for(var _e in s)if(_.call(s,_e)&&(f=s[_e],f!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":throw Error(u(400));default:ge(t,i,_e,f)}return t.push(Me),null;case"title":t.push(we("title")),f=null;for(ue in s)if(_.call(s,ue)&&(w=s[ue],w!=null))switch(ue){case"children":f=w;break;case"dangerouslySetInnerHTML":throw Error(u(434));default:ge(t,i,ue,w)}return t.push(Me),f;case"listing":case"pre":t.push(we(n)),w=f=null;for(O in s)if(_.call(s,O)&&(E=s[O],E!=null))switch(O){case"children":f=E;break;case"dangerouslySetInnerHTML":w=E;break;default:ge(t,i,O,E)}if(t.push(Me),w!=null){if(f!=null)throw Error(u(60));if(typeof w!="object"||!("__html"in w))throw Error(u(61));s=w.__html,s!=null&&(typeof s=="string"&&0<s.length&&s[0]===`
`?t.push(We,v(s)):t.push(v(""+s)))}return typeof f=="string"&&f[0]===`
`&&t.push(We),f;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":t.push(we(n));for(var De in s)if(_.call(s,De)&&(f=s[De],f!=null))switch(De){case"children":case"dangerouslySetInnerHTML":throw Error(u(399,n));default:ge(t,i,De,f)}return t.push(xt),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return He(t,s,n,i);case"html":return p.insertionMode===0&&t.push(vt),He(t,s,n,i);default:if(n.indexOf("-")===-1&&typeof s.is!="string")return He(t,s,n,i);t.push(we(n)),w=f=null;for(K in s)if(_.call(s,K)&&(E=s[K],E!=null))switch(K){case"children":f=E;break;case"dangerouslySetInnerHTML":w=E;break;case"style":be(t,i,E);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:P(K)&&typeof E!="function"&&typeof E!="symbol"&&t.push(me,v(K),Re,v(Z(E)),Ie)}return t.push(Me),Ye(t,w,f),f}}var wt=x("</"),kt=x(">"),Ke=x('<template id="'),bt=x('"></template>'),Ct=x("<!--$-->"),_t=x('<!--$?--><template id="'),it=x('"></template>'),Ze=x("<!--$!-->"),It=x("<!--/$-->"),$t=x("<template"),Pt=x('"'),Lt=x(' data-dgst="');x(' data-msg="'),x(' data-stck="');var At=x("></template>");function M(t,n,s){if(m(t,_t),s===null)throw Error(u(395));return m(t,s),y(t,it)}var T=x('<div hidden id="'),z=x('">'),I=x("</div>"),ze=x('<svg aria-hidden="true" style="display:none" id="'),Je=x('">'),Ve=x("</svg>"),Pe=x('<math aria-hidden="true" style="display:none" id="'),Et=x('">'),Ue=x("</math>"),nn=x('<table hidden id="'),Dt=x('">'),Ot=x("</table>"),rn=x('<table hidden><tbody id="'),sn=x('">'),on=x("</tbody></table>"),Pn=x('<table hidden><tr id="'),Ln=x('">'),jt=x("</tr></table>"),ln=x('<table hidden><colgroup id="'),Mt=x('">'),Bt=x("</colgroup></table>");function An(t,n,s,i){switch(s.insertionMode){case 0:case 1:return m(t,T),m(t,n.segmentPrefix),m(t,v(i.toString(16))),y(t,z);case 2:return m(t,ze),m(t,n.segmentPrefix),m(t,v(i.toString(16))),y(t,Je);case 3:return m(t,Pe),m(t,n.segmentPrefix),m(t,v(i.toString(16))),y(t,Et);case 4:return m(t,nn),m(t,n.segmentPrefix),m(t,v(i.toString(16))),y(t,Dt);case 5:return m(t,rn),m(t,n.segmentPrefix),m(t,v(i.toString(16))),y(t,sn);case 6:return m(t,Pn),m(t,n.segmentPrefix),m(t,v(i.toString(16))),y(t,Ln);case 7:return m(t,ln),m(t,n.segmentPrefix),m(t,v(i.toString(16))),y(t,Mt);default:throw Error(u(397))}}function lt(t,n){switch(n.insertionMode){case 0:case 1:return y(t,I);case 2:return y(t,Ve);case 3:return y(t,Ue);case 4:return y(t,Ot);case 5:return y(t,on);case 6:return y(t,jt);case 7:return y(t,Bt);default:throw Error(u(397))}}var Dn=x('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),zt=x('$RS("'),Nt=x('","'),at=x('")<\/script>'),Rt=x('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),an=x('$RC("'),un=x('","'),cn=x('")<\/script>'),Vt=x('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),je=x('$RX("'),dn=x('"'),Ht=x(")<\/script>"),Wt=x(","),fn=/[<\u2028\u2029]/g;function Qe(t){return JSON.stringify(t).replace(fn,function(n){switch(n){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var et=Object.assign,pn=Symbol.for("react.element"),ut=Symbol.for("react.portal"),ct=Symbol.for("react.fragment"),Ut=Symbol.for("react.strict_mode"),Gt=Symbol.for("react.profiler"),qt=Symbol.for("react.provider"),Tt=Symbol.for("react.context"),hn=Symbol.for("react.forward_ref"),mn=Symbol.for("react.suspense"),Yt=Symbol.for("react.suspense_list"),e=Symbol.for("react.memo"),r=Symbol.for("react.lazy"),o=Symbol.for("react.scope"),l=Symbol.for("react.debug_trace_mode"),h=Symbol.for("react.legacy_hidden"),d=Symbol.for("react.default_value"),S=Symbol.iterator;function j(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ct:return"Fragment";case ut:return"Portal";case Gt:return"Profiler";case Ut:return"StrictMode";case mn:return"Suspense";case Yt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Tt:return(t.displayName||"Context")+".Consumer";case qt:return(t._context.displayName||"Context")+".Provider";case hn:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case e:return n=t.displayName||null,n!==null?n:j(t.type)||"Memo";case r:n=t._payload,t=t._init;try{return j(t(n))}catch{}}return null}var D={};function V(t,n){if(t=t.contextTypes,!t)return D;var s={},i;for(i in t)s[i]=n[i];return s}var G=null;function ce(t,n){if(t!==n){t.context._currentValue=t.parentValue,t=t.parent;var s=n.parent;if(t===null){if(s!==null)throw Error(u(401))}else{if(s===null)throw Error(u(401));ce(t,s)}n.context._currentValue=n.value}}function Le(t){t.context._currentValue=t.parentValue,t=t.parent,t!==null&&Le(t)}function Ae(t){var n=t.parent;n!==null&&Ae(n),t.context._currentValue=t.value}function Te(t,n){if(t.context._currentValue=t.parentValue,t=t.parent,t===null)throw Error(u(402));t.depth===n.depth?ce(t,n):Te(t,n)}function dt(t,n){var s=n.parent;if(s===null)throw Error(u(402));t.depth===s.depth?ce(t,s):dt(t,s),n.context._currentValue=n.value}function Ge(t){var n=G;n!==t&&(n===null?Ae(t):t===null?Le(n):n.depth===t.depth?ce(n,t):n.depth>t.depth?Te(n,t):dt(n,t),G=t)}var Xt={isMounted:function(){return!1},enqueueSetState:function(t,n){t=t._reactInternals,t.queue!==null&&t.queue.push(n)},enqueueReplaceState:function(t,n){t=t._reactInternals,t.replace=!0,t.queue=[n]},enqueueForceUpdate:function(){}};function ft(t,n,s,i){var p=t.state!==void 0?t.state:null;t.updater=Xt,t.props=s,t.state=p;var f={queue:[],replace:!1};t._reactInternals=f;var w=n.contextType;if(t.context=typeof w=="object"&&w!==null?w._currentValue:i,w=n.getDerivedStateFromProps,typeof w=="function"&&(w=w(s,p),p=w==null?p:et({},p,w),t.state=p),typeof n.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function"&&(typeof t.UNSAFE_componentWillMount=="function"||typeof t.componentWillMount=="function"))if(n=t.state,typeof t.componentWillMount=="function"&&t.componentWillMount(),typeof t.UNSAFE_componentWillMount=="function"&&t.UNSAFE_componentWillMount(),n!==t.state&&Xt.enqueueReplaceState(t,t.state,null),f.queue!==null&&0<f.queue.length)if(n=f.queue,w=f.replace,f.queue=null,f.replace=!1,w&&n.length===1)t.state=n[0];else{for(f=w?n[0]:t.state,p=!0,w=w?1:0;w<n.length;w++){var E=n[w];E=typeof E=="function"?E.call(t,f,s,i):E,E!=null&&(p?(p=!1,f=et({},f,E)):et(f,E))}t.state=f}else f.queue=null}var gn={id:1,overflow:""};function tt(t,n,s){var i=t.id;t=t.overflow;var p=32-xn(i)-1;i&=~(1<<p),s+=1;var f=32-xn(n)+p;if(30<f){var w=p-p%5;return f=(i&(1<<w)-1).toString(32),i>>=w,p-=w,{id:1<<32-xn(n)+p|s<<p|i,overflow:f+t}}return{id:1<<f|s<<p|i,overflow:t}}var xn=Math.clz32?Math.clz32:Hr,zr=Math.log,Vr=Math.LN2;function Hr(t){return t>>>=0,t===0?32:31-(zr(t)/Vr|0)|0}function Wr(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ur=typeof Object.is=="function"?Object.is:Wr,qe=null,On=null,yn=null,le=null,Kt=!1,vn=!1,Zt=0,nt=null,Sn=0;function pt(){if(qe===null)throw Error(u(321));return qe}function rr(){if(0<Sn)throw Error(u(312));return{memoizedState:null,queue:null,next:null}}function Bn(){return le===null?yn===null?(Kt=!1,yn=le=rr()):(Kt=!0,le=yn):le.next===null?(Kt=!1,le=le.next=rr()):(Kt=!0,le=le.next),le}function zn(){On=qe=null,vn=!1,yn=null,Sn=0,le=nt=null}function sr(t,n){return typeof n=="function"?n(t):n}function or(t,n,s){if(qe=pt(),le=Bn(),Kt){var i=le.queue;if(n=i.dispatch,nt!==null&&(s=nt.get(i),s!==void 0)){nt.delete(i),i=le.memoizedState;do i=t(i,s.action),s=s.next;while(s!==null);return le.memoizedState=i,[i,n]}return[le.memoizedState,n]}return t=t===sr?typeof n=="function"?n():n:s!==void 0?s(n):n,le.memoizedState=t,t=le.queue={last:null,dispatch:null},t=t.dispatch=Gr.bind(null,qe,t),[le.memoizedState,t]}function ir(t,n){if(qe=pt(),le=Bn(),n=n===void 0?null:n,le!==null){var s=le.memoizedState;if(s!==null&&n!==null){var i=s[1];e:if(i===null)i=!1;else{for(var p=0;p<i.length&&p<n.length;p++)if(!Ur(n[p],i[p])){i=!1;break e}i=!0}if(i)return s[0]}}return t=t(),le.memoizedState=[t,n],t}function Gr(t,n,s){if(25<=Sn)throw Error(u(301));if(t===qe)if(vn=!0,t={action:s,next:null},nt===null&&(nt=new Map),s=nt.get(n),s===void 0)nt.set(n,t);else{for(n=s;n.next!==null;)n=n.next;n.next=t}}function qr(){throw Error(u(394))}function wn(){}var lr={readContext:function(t){return t._currentValue},useContext:function(t){return pt(),t._currentValue},useMemo:ir,useReducer:or,useRef:function(t){qe=pt(),le=Bn();var n=le.memoizedState;return n===null?(t={current:t},le.memoizedState=t):n},useState:function(t){return or(sr,t)},useInsertionEffect:wn,useLayoutEffect:function(){},useCallback:function(t,n){return ir(function(){return t},n)},useImperativeHandle:wn,useEffect:wn,useDebugValue:wn,useDeferredValue:function(t){return pt(),t},useTransition:function(){return pt(),[!1,qr]},useId:function(){var t=On.treeContext,n=t.overflow;t=t.id,t=(t&~(1<<32-xn(t)-1)).toString(32)+n;var s=kn;if(s===null)throw Error(u(404));return n=Zt++,t=":"+s.idPrefix+"R"+t,0<n&&(t+="H"+n.toString(32)),t+":"},useMutableSource:function(t,n){return pt(),n(t._source)},useSyncExternalStore:function(t,n,s){if(s===void 0)throw Error(u(407));return s()}},kn=null,Vn=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function Yr(t){return console.error(t),null}function Jt(){}function Xr(t,n,s,i,p,f,w,E,O){var K=[],q=new Set;return n={destination:null,responseState:n,progressiveChunkSize:i===void 0?12800:i,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:q,pingedTasks:K,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:p===void 0?Yr:p,onAllReady:f===void 0?Jt:f,onShellReady:w===void 0?Jt:w,onShellError:E===void 0?Jt:E,onFatalError:O===void 0?Jt:O},s=bn(n,0,null,s,!1,!1),s.parentFlushed=!0,t=Hn(n,t,null,s,q,D,null,gn),K.push(t),n}function Hn(t,n,s,i,p,f,w,E){t.allPendingTasks++,s===null?t.pendingRootTasks++:s.pendingTasks++;var O={node:n,ping:function(){var K=t.pingedTasks;K.push(O),K.length===1&&hr(t)},blockedBoundary:s,blockedSegment:i,abortSet:p,legacyContext:f,context:w,treeContext:E};return p.add(O),O}function bn(t,n,s,i,p,f){return{status:0,id:-1,index:n,parentFlushed:!1,chunks:[],children:[],formatContext:i,boundary:s,lastPushedText:p,textEmbedded:f}}function Qt(t,n){if(t=t.onError(n),t!=null&&typeof t!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof t+'" instead');return t}function Cn(t,n){var s=t.onShellError;s(n),s=t.onFatalError,s(n),t.destination!==null?(t.status=2,F(t.destination,n)):(t.status=1,t.fatalError=n)}function ar(t,n,s,i,p){for(qe={},On=n,Zt=0,t=s(i,p);vn;)vn=!1,Zt=0,Sn+=1,le=null,t=s(i,p);return zn(),t}function ur(t,n,s,i){var p=s.render(),f=i.childContextTypes;if(f!=null){var w=n.legacyContext;if(typeof s.getChildContext!="function")i=w;else{s=s.getChildContext();for(var E in s)if(!(E in f))throw Error(u(108,j(i)||"Unknown",E));i=et({},w,s)}n.legacyContext=i,Fe(t,n,p),n.legacyContext=w}else Fe(t,n,p)}function cr(t,n){if(t&&t.defaultProps){n=et({},n),t=t.defaultProps;for(var s in t)n[s]===void 0&&(n[s]=t[s]);return n}return n}function Wn(t,n,s,i,p){if(typeof s=="function")if(s.prototype&&s.prototype.isReactComponent){p=V(s,n.legacyContext);var f=s.contextType;f=new s(i,typeof f=="object"&&f!==null?f._currentValue:p),ft(f,s,i,p),ur(t,n,f,s)}else{f=V(s,n.legacyContext),p=ar(t,n,s,i,f);var w=Zt!==0;if(typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0)ft(p,s,i,f),ur(t,n,p,s);else if(w){i=n.treeContext,n.treeContext=tt(i,1,0);try{Fe(t,n,p)}finally{n.treeContext=i}}else Fe(t,n,p)}else if(typeof s=="string"){switch(p=n.blockedSegment,f=St(p.chunks,s,i,t.responseState,p.formatContext),p.lastPushedText=!1,w=p.formatContext,p.formatContext=he(w,s,i),Un(t,n,f),p.formatContext=w,s){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:p.chunks.push(wt,v(s),kt)}p.lastPushedText=!1}else{switch(s){case h:case l:case Ut:case Gt:case ct:Fe(t,n,i.children);return;case Yt:Fe(t,n,i.children);return;case o:throw Error(u(343));case mn:e:{s=n.blockedBoundary,p=n.blockedSegment,f=i.fallback,i=i.children,w=new Set;var E={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:w,errorDigest:null},O=bn(t,p.chunks.length,E,p.formatContext,!1,!1);p.children.push(O),p.lastPushedText=!1;var K=bn(t,0,null,p.formatContext,!1,!1);K.parentFlushed=!0,n.blockedBoundary=E,n.blockedSegment=K;try{if(Un(t,n,i),K.lastPushedText&&K.textEmbedded&&K.chunks.push(fe),K.status=1,En(E,K),E.pendingTasks===0)break e}catch(q){K.status=4,E.forceClientRender=!0,E.errorDigest=Qt(t,q)}finally{n.blockedBoundary=s,n.blockedSegment=p}n=Hn(t,f,s,O,w,n.legacyContext,n.context,n.treeContext),t.pingedTasks.push(n)}return}if(typeof s=="object"&&s!==null)switch(s.$$typeof){case hn:if(i=ar(t,n,s.render,i,p),Zt!==0){s=n.treeContext,n.treeContext=tt(s,1,0);try{Fe(t,n,i)}finally{n.treeContext=s}}else Fe(t,n,i);return;case e:s=s.type,i=cr(s,i),Wn(t,n,s,i,p);return;case qt:if(p=i.children,s=s._context,i=i.value,f=s._currentValue,s._currentValue=i,w=G,G=i={parent:w,depth:w===null?0:w.depth+1,context:s,parentValue:f,value:i},n.context=i,Fe(t,n,p),t=G,t===null)throw Error(u(403));i=t.parentValue,t.context._currentValue=i===d?t.context._defaultValue:i,t=G=t.parent,n.context=t;return;case Tt:i=i.children,i=i(s._currentValue),Fe(t,n,i);return;case r:p=s._init,s=p(s._payload),i=cr(s,i),Wn(t,n,s,i,void 0);return}throw Error(u(130,s==null?s:typeof s,""))}}function Fe(t,n,s){if(n.node=s,typeof s=="object"&&s!==null){switch(s.$$typeof){case pn:Wn(t,n,s.type,s.props,s.ref);return;case ut:throw Error(u(257));case r:var i=s._init;s=i(s._payload),Fe(t,n,s);return}if(te(s)){dr(t,n,s);return}if(s===null||typeof s!="object"?i=null:(i=S&&s[S]||s["@@iterator"],i=typeof i=="function"?i:null),i&&(i=i.call(s))){if(s=i.next(),!s.done){var p=[];do p.push(s.value),s=i.next();while(!s.done);dr(t,n,p)}return}throw t=Object.prototype.toString.call(s),Error(u(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}typeof s=="string"?(i=n.blockedSegment,i.lastPushedText=ke(n.blockedSegment.chunks,s,t.responseState,i.lastPushedText)):typeof s=="number"&&(i=n.blockedSegment,i.lastPushedText=ke(n.blockedSegment.chunks,""+s,t.responseState,i.lastPushedText))}function dr(t,n,s){for(var i=s.length,p=0;p<i;p++){var f=n.treeContext;n.treeContext=tt(f,i,p);try{Un(t,n,s[p])}finally{n.treeContext=f}}}function Un(t,n,s){var i=n.blockedSegment.formatContext,p=n.legacyContext,f=n.context;try{return Fe(t,n,s)}catch(O){if(zn(),typeof O=="object"&&O!==null&&typeof O.then=="function"){s=O;var w=n.blockedSegment,E=bn(t,w.chunks.length,null,w.formatContext,w.lastPushedText,!0);w.children.push(E),w.lastPushedText=!1,t=Hn(t,n.node,n.blockedBoundary,E,n.abortSet,n.legacyContext,n.context,n.treeContext).ping,s.then(t,t),n.blockedSegment.formatContext=i,n.legacyContext=p,n.context=f,Ge(f)}else throw n.blockedSegment.formatContext=i,n.legacyContext=p,n.context=f,Ge(f),O}}function Kr(t){var n=t.blockedBoundary;t=t.blockedSegment,t.status=3,pr(this,n,t)}function fr(t,n,s){var i=t.blockedBoundary;t.blockedSegment.status=3,i===null?(n.allPendingTasks--,n.status!==2&&(n.status=2,n.destination!==null&&n.destination.close())):(i.pendingTasks--,i.forceClientRender||(i.forceClientRender=!0,t=s===void 0?Error(u(432)):s,i.errorDigest=n.onError(t),i.parentFlushed&&n.clientRenderedBoundaries.push(i)),i.fallbackAbortableTasks.forEach(function(p){return fr(p,n,s)}),i.fallbackAbortableTasks.clear(),n.allPendingTasks--,n.allPendingTasks===0&&(i=n.onAllReady,i()))}function En(t,n){if(n.chunks.length===0&&n.children.length===1&&n.children[0].boundary===null){var s=n.children[0];s.id=n.id,s.parentFlushed=!0,s.status===1&&En(t,s)}else t.completedSegments.push(n)}function pr(t,n,s){if(n===null){if(s.parentFlushed){if(t.completedRootSegment!==null)throw Error(u(389));t.completedRootSegment=s}t.pendingRootTasks--,t.pendingRootTasks===0&&(t.onShellError=Jt,n=t.onShellReady,n())}else n.pendingTasks--,n.forceClientRender||(n.pendingTasks===0?(s.parentFlushed&&s.status===1&&En(n,s),n.parentFlushed&&t.completedBoundaries.push(n),n.fallbackAbortableTasks.forEach(Kr,t),n.fallbackAbortableTasks.clear()):s.parentFlushed&&s.status===1&&(En(n,s),n.completedSegments.length===1&&n.parentFlushed&&t.partialBoundaries.push(n)));t.allPendingTasks--,t.allPendingTasks===0&&(t=t.onAllReady,t())}function hr(t){if(t.status!==2){var n=G,s=Vn.current;Vn.current=lr;var i=kn;kn=t.responseState;try{var p=t.pingedTasks,f;for(f=0;f<p.length;f++){var w=p[f],E=t,O=w.blockedSegment;if(O.status===0){Ge(w.context);try{Fe(E,w,w.node),O.lastPushedText&&O.textEmbedded&&O.chunks.push(fe),w.abortSet.delete(w),O.status=1,pr(E,w.blockedBoundary,O)}catch(Oe){if(zn(),typeof Oe=="object"&&Oe!==null&&typeof Oe.then=="function"){var K=w.ping;Oe.then(K,K)}else{w.abortSet.delete(w),O.status=4;var q=w.blockedBoundary,ue=Oe,_e=Qt(E,ue);if(q===null?Cn(E,ue):(q.pendingTasks--,q.forceClientRender||(q.forceClientRender=!0,q.errorDigest=_e,q.parentFlushed&&E.clientRenderedBoundaries.push(q))),E.allPendingTasks--,E.allPendingTasks===0){var De=E.onAllReady;De()}}}finally{}}}p.splice(0,f),t.destination!==null&&Gn(t,t.destination)}catch(Oe){Qt(t,Oe),Cn(t,Oe)}finally{kn=i,Vn.current=s,s===lr&&Ge(n)}}}function jn(t,n,s){switch(s.parentFlushed=!0,s.status){case 0:var i=s.id=t.nextSegmentId++;return s.lastPushedText=!1,s.textEmbedded=!1,t=t.responseState,m(n,Ke),m(n,t.placeholderPrefix),t=v(i.toString(16)),m(n,t),y(n,bt);case 1:s.status=2;var p=!0;i=s.chunks;var f=0;s=s.children;for(var w=0;w<s.length;w++){for(p=s[w];f<p.index;f++)m(n,i[f]);p=Mn(t,n,p)}for(;f<i.length-1;f++)m(n,i[f]);return f<i.length&&(p=y(n,i[f])),p;default:throw Error(u(390))}}function Mn(t,n,s){var i=s.boundary;if(i===null)return jn(t,n,s);if(i.parentFlushed=!0,i.forceClientRender)i=i.errorDigest,y(n,Ze),m(n,$t),i&&(m(n,Lt),m(n,v(Z(i))),m(n,Pt)),y(n,At),jn(t,n,s);else if(0<i.pendingTasks){i.rootSegmentID=t.nextSegmentId++,0<i.completedSegments.length&&t.partialBoundaries.push(i);var p=t.responseState,f=p.nextSuspenseID++;p=x(p.boundaryPrefix+f.toString(16)),i=i.id=p,M(n,t.responseState,i),jn(t,n,s)}else if(i.byteSize>t.progressiveChunkSize)i.rootSegmentID=t.nextSegmentId++,t.completedBoundaries.push(i),M(n,t.responseState,i.id),jn(t,n,s);else{if(y(n,Ct),s=i.completedSegments,s.length!==1)throw Error(u(391));Mn(t,n,s[0])}return y(n,It)}function mr(t,n,s){return An(n,t.responseState,s.formatContext,s.id),Mn(t,n,s),lt(n,s.formatContext)}function gr(t,n,s){for(var i=s.completedSegments,p=0;p<i.length;p++)xr(t,n,s,i[p]);if(i.length=0,t=t.responseState,i=s.id,s=s.rootSegmentID,m(n,t.startInlineScript),t.sentCompleteBoundaryFunction?m(n,an):(t.sentCompleteBoundaryFunction=!0,m(n,Rt)),i===null)throw Error(u(395));return s=v(s.toString(16)),m(n,i),m(n,un),m(n,t.segmentPrefix),m(n,s),y(n,cn)}function xr(t,n,s,i){if(i.status===2)return!0;var p=i.id;if(p===-1){if((i.id=s.rootSegmentID)===-1)throw Error(u(392));return mr(t,n,i)}return mr(t,n,i),t=t.responseState,m(n,t.startInlineScript),t.sentCompleteSegmentFunction?m(n,zt):(t.sentCompleteSegmentFunction=!0,m(n,Dn)),m(n,t.segmentPrefix),p=v(p.toString(16)),m(n,p),m(n,Nt),m(n,t.placeholderPrefix),m(n,p),y(n,at)}function Gn(t,n){g=new Uint8Array(512),k=0;try{var s=t.completedRootSegment;if(s!==null&&t.pendingRootTasks===0){Mn(t,n,s),t.completedRootSegment=null;var i=t.responseState.bootstrapChunks;for(s=0;s<i.length-1;s++)m(n,i[s]);s<i.length&&y(n,i[s])}var p=t.clientRenderedBoundaries,f;for(f=0;f<p.length;f++){var w=p[f];i=n;var E=t.responseState,O=w.id,K=w.errorDigest,q=w.errorMessage,ue=w.errorComponentStack;if(m(i,E.startInlineScript),E.sentClientRenderFunction?m(i,je):(E.sentClientRenderFunction=!0,m(i,Vt)),O===null)throw Error(u(395));m(i,O),m(i,dn),(K||q||ue)&&(m(i,Wt),m(i,v(Qe(K||"")))),(q||ue)&&(m(i,Wt),m(i,v(Qe(q||"")))),ue&&(m(i,Wt),m(i,v(Qe(ue)))),y(i,Ht)}p.splice(0,f);var _e=t.completedBoundaries;for(f=0;f<_e.length;f++)gr(t,n,_e[f]);_e.splice(0,f),R(n),g=new Uint8Array(512),k=0;var De=t.partialBoundaries;for(f=0;f<De.length;f++){var Oe=De[f];e:{p=t,w=n;var Nn=Oe.completedSegments;for(E=0;E<Nn.length;E++)if(!xr(p,w,Oe,Nn[E])){E++,Nn.splice(0,E);var vr=!1;break e}Nn.splice(0,E),vr=!0}if(!vr){t.destination=null,f++,De.splice(0,f);return}}De.splice(0,f);var qn=t.completedBoundaries;for(f=0;f<qn.length;f++)gr(t,n,qn[f]);qn.splice(0,f)}finally{R(n),t.allPendingTasks===0&&t.pingedTasks.length===0&&t.clientRenderedBoundaries.length===0&&t.completedBoundaries.length===0&&n.close()}}function yr(t,n){try{var s=t.abortableTasks;s.forEach(function(i){return fr(i,t,n)}),s.clear(),t.destination!==null&&Gn(t,t.destination)}catch(i){Qt(t,i),Cn(t,i)}}return _n.renderToReadableStream=function(t,n){return new Promise(function(s,i){var p,f,w=new Promise(function(q,ue){f=q,p=ue}),E=Xr(t,ae(n?n.identifierPrefix:void 0,n?n.nonce:void 0,n?n.bootstrapScriptContent:void 0,n?n.bootstrapScripts:void 0,n?n.bootstrapModules:void 0),ye(n?n.namespaceURI:void 0),n?n.progressiveChunkSize:void 0,n?n.onError:void 0,f,function(){var q=new ReadableStream({type:"bytes",pull:function(ue){if(E.status===1)E.status=2,F(ue,E.fatalError);else if(E.status!==2&&E.destination===null){E.destination=ue;try{Gn(E,ue)}catch(_e){Qt(E,_e),Cn(E,_e)}}},cancel:function(){yr(E)}},{highWaterMark:0});q.allReady=w,s(q)},function(q){w.catch(function(){}),i(q)},p);if(n&&n.signal){var O=n.signal,K=function(){yr(E,O.reason),O.removeEventListener("abort",K)};O.addEventListener("abort",K)}hr(E)})},_n.version="18.3.1",_n}var Nr;function Ys(){if(Nr)return rt;Nr=1;var c,u;return c=Gs(),u=qs(),rt.version=c.version,rt.renderToString=c.renderToString,rt.renderToStaticMarkup=c.renderToStaticMarkup,rt.renderToNodeStream=c.renderToNodeStream,rt.renderToStaticNodeStream=c.renderToStaticNodeStream,rt.renderToReadableStream=u.renderToReadableStream,rt}var Or=Ys();const en=new Map;function $n(c,u){const g=en.get(c);if(g)return g;if(en.size>=$s){const m=en.keys().next().value;m&&en.delete(m)}const k=u();return en.set(c,k),k}const Xs=Or.renderToStaticMarkup(a.jsx(Lr,{size:Se+2,color:Y.localColor,strokeWidth:2.5,fill:"none"})),Rr=Or.renderToStaticMarkup(a.jsx(Pr,{size:Se+2,color:Y.roomServerColor,strokeWidth:2.5,fill:"none"}));function Tr(c=Y.nodeColor,u=1,g=!1,k=!1){const m=`ring:${c}:${u}:${g}:${k}`;return $n(m,()=>{const y=g?1.25:1;if(k){const R=(Ce-Se)/2;return`<div style="
        position: relative;
        width: ${Ce}px;
        height: ${Ce}px;
        opacity: ${u};
        filter: brightness(${y});
        transition: filter 0s ease-in, filter 150ms ease-out;
      ">
        <!-- Yellow outer ring -->
        <div style="
          position: absolute;
          top: 0;
          left: 0;
          width: ${Ce}px;
          height: ${Ce}px;
          background: transparent;
          border-radius: 50%;
          border: ${nr}px solid ${Y.neighborColor};
          box-sizing: border-box;
          opacity: 0.7;
        "></div>
        <!-- Inner colored ring -->
        <div style="
          position: absolute;
          top: ${R}px;
          left: ${R}px;
          width: ${Se}px;
          height: ${Se}px;
          background: transparent;
          border-radius: 50%;
          border: ${wr}px solid ${c};
          box-sizing: border-box;
        "></div>
      </div>`}return`<div style="
      width: ${Se}px;
      height: ${Se}px;
      background: transparent;
      border-radius: 50%;
      border: ${wr}px solid ${c};
      box-sizing: border-box;
      opacity: ${u};
      filter: brightness(${y});
      transition: filter 0s ease-in, filter 150ms ease-out;
    "></div>`})}function Ks(c=Y.hubColor,u=1,g=!1,k=!1){const m=`filled:${c}:${u}:${g}:${k}`;return $n(m,()=>{const y=g?1.25:1;if(k){const R=(Ce-Se)/2;return`<div style="
        position: relative;
        width: ${Ce}px;
        height: ${Ce}px;
        opacity: ${u};
        filter: brightness(${y});
        transition: filter 0s ease-in, filter 150ms ease-out;
      ">
        <!-- Yellow outer ring -->
        <div style="
          position: absolute;
          top: 0;
          left: 0;
          width: ${Ce}px;
          height: ${Ce}px;
          background: transparent;
          border-radius: 50%;
          border: ${nr}px solid ${Y.neighborColor};
          box-sizing: border-box;
          opacity: 0.7;
        "></div>
        <!-- Inner filled dot -->
        <div style="
          position: absolute;
          top: ${R}px;
          left: ${R}px;
          width: ${Se}px;
          height: ${Se}px;
          background-color: ${c};
          border-radius: 50%;
          box-sizing: border-box;
        "></div>
      </div>`}return`<div style="
      width: ${Se}px;
      height: ${Se}px;
      background-color: ${c};
      border-radius: 50%;
      box-sizing: border-box;
      opacity: ${u};
      filter: brightness(${y});
      transition: filter 0s ease-in, filter 150ms ease-out;
    "></div>`})}function Zs(c=!1){const u=`local:${c}`;return $n(u,()=>{const g=c?1.25:1;return`<div style="
      width: ${Se+2}px;
      height: ${Se+2}px;
      display: flex;
      align-items: center;
      justify-content: center;
      filter: drop-shadow(0 1px 2px rgba(0,0,0,0.4)) brightness(${g});
      transition: filter 0s ease-in, filter 150ms ease-out;
    ">${Xs}</div>`})}function Js(c=1,u=!1,g=!1){const k=`roomserver:${c}:${u}:${g}`;return $n(k,()=>{const m=u?1.25:1;if(g){const y=Se+2,R=(Ce-y)/2;return`<div style="
        position: relative;
        width: ${Ce}px;
        height: ${Ce}px;
        opacity: ${c};
        filter: drop-shadow(0 1px 2px rgba(0,0,0,0.4)) brightness(${m});
        transition: filter 0s ease-in, filter 150ms ease-out;
      ">
        <!-- Yellow outer ring -->
        <div style="
          position: absolute;
          top: 0;
          left: 0;
          width: ${Ce}px;
          height: ${Ce}px;
          background: transparent;
          border-radius: 50%;
          border: ${nr}px solid ${Y.neighborColor};
          box-sizing: border-box;
          opacity: 0.7;
        "></div>
        <!-- Icon -->
        <div style="
          position: absolute;
          top: ${R}px;
          left: ${R}px;
          width: ${y}px;
          height: ${y}px;
          display: flex;
          align-items: center;
          justify-content: center;
        ">${Rr}</div>
      </div>`}return`<div style="
      width: ${Se+2}px;
      height: ${Se+2}px;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: ${c};
      filter: drop-shadow(0 1px 2px rgba(0,0,0,0.4)) brightness(${m});
      transition: filter 0s ease-in, filter 150ms ease-out;
    ">${Rr}</div>`})}function Fr(c){var g;const u=(g=c.contact_type)==null?void 0:g.toLowerCase();return u==="room server"||u==="room_server"||u==="room"||u==="server"}function Br(c){return c.startsWith("0x")?c.slice(2,4).toUpperCase():c.slice(0,2).toUpperCase()}function Qs({hash:c,neighbor:u,isZeroHop:g,isHub:k,isMobile:m,isRoomServer:y,centrality:R,lastHopData:b,affinity:v,txDelayRec:x,nodeOpacity:F,isHovered:_,onHover:L,onRequestRemove:H,isPopupOpen:N,onOpenPopup:P,onClosePopup:$}){const A=u.node_name||u.name||"Unknown",W=Br(c),ie=(b==null?void 0:b.avgSnr)??void 0,J=(b==null?void 0:b.avgRssi)??void 0,oe=(b==null?void 0:b.status)==="stale",X=(b==null?void 0:b.lastSeen)??void 0,Z=oe?Math.min(F,.5):F,ee=Math.round(Z*20)/20,U=C.useMemo(()=>y?Js(ee,_,g):k?Ks(Y.hubColor,ee,_,g):Tr(m?Y.mobileColor:Y.nodeColor,ee,_,g),[y,k,m,g,ee,_]),te=g?Ce:Se,de=C.useCallback(()=>L(c),[c,L]),B=C.useCallback(()=>L(null),[L]),Q=C.useCallback(ne=>{ne.stopPropagation(),P(c)},[c,P]);return!u.latitude||!u.longitude?null:a.jsxs(a.Fragment,{children:[a.jsx($r,{longitude:u.longitude,latitude:u.latitude,anchor:"center",children:a.jsx("div",{role:"button",tabIndex:0,"aria-label":`Node ${A}`,style:{width:In,height:In,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",touchAction:"manipulation",WebkitTapHighlightColor:"transparent"},onClick:Q,onTouchEnd:Q,onMouseEnter:de,onMouseLeave:B,onKeyDown:ne=>ne.key==="Enter"&&P(c),children:a.jsx("div",{style:{pointerEvents:"none"},dangerouslySetInnerHTML:{__html:U}})})}),N&&a.jsx(Qn,{longitude:u.longitude,latitude:u.latitude,anchor:"bottom",offset:[0,-te/2],closeOnClick:!0,onClose:$,className:"maplibre-popup",children:a.jsx(As,{hash:c,hashPrefix:W,name:A,isHub:k,isZeroHop:g,isMobile:m,isRoomServer:y,isStale:oe,lastSeenTimestamp:X,centrality:R,affinity:v,meanSnr:ie,meanRssi:J,neighbor:u,txDelayRec:x,onRemove:H?()=>H(c,A):void 0})})]})}function eo({localNode:c,localHash:u,isHovered:g,onHover:k,isPopupOpen:m,onOpenPopup:y,onClosePopup:R}){const b=C.useMemo(()=>Zs(g),[g]),v=C.useCallback(()=>k("local"),[k]),x=C.useCallback(()=>k(null),[k]),F=C.useCallback(_=>{_.stopPropagation(),y()},[y]);return!c.latitude||!c.longitude?null:a.jsxs(a.Fragment,{children:[a.jsx($r,{longitude:c.longitude,latitude:c.latitude,anchor:"center",children:a.jsx("div",{role:"button",tabIndex:0,"aria-label":`Local node ${c.name}`,style:{width:In,height:In,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",touchAction:"manipulation",WebkitTapHighlightColor:"transparent"},onClick:F,onTouchEnd:F,onMouseEnter:v,onMouseLeave:x,onKeyDown:_=>_.key==="Enter"&&y(),children:a.jsx("div",{style:{pointerEvents:"none"},dangerouslySetInnerHTML:{__html:b}})})}),m&&a.jsx(Qn,{longitude:c.longitude,latitude:c.latitude,anchor:"bottom",offset:[0,-16/2],closeOnClick:!0,onClose:R,className:"maplibre-popup",children:a.jsxs("div",{className:"text-sm",children:[a.jsx("strong",{className:"text-base",children:c.name}),u&&a.jsx("span",{className:"ml-2 font-mono text-xs text-text-muted bg-surface-elevated px-1.5 py-0.5 rounded",children:Br(u)}),a.jsx("br",{}),a.jsx("span",{style:{color:Y.localColor},className:"font-medium",children:"This Node (Local)"}),a.jsx("br",{}),a.jsxs("span",{className:"text-xs text-text-muted",children:[c.latitude.toFixed(5),", ",c.longitude.toFixed(5)]})]})})]})}function to({neighborsWithLocation:c,localNode:u,localHash:g,zeroHopNeighbors:k,lastHopNeighborMap:m,meshTopology:y,hoveredMarker:R,onMarkerHover:b,getNodeOpacity:v,shouldShowNode:x,onRequestRemove:F}){const[_,L]=C.useState(null),H=C.useCallback($=>{L($)},[]),N=C.useCallback(()=>{L(null)},[]),P=C.useMemo(()=>[...c].sort(([$,A],[W,ie])=>{const J=(oe,X)=>Fr(X)?5e3:k.has(oe)?2e3:y.hubNodes.includes(oe)?1e3:0;return J($,A)-J(W,ie)}),[c,k,y.hubNodes]);return a.jsxs(a.Fragment,{children:[P.map(([$,A])=>{if(!A.latitude||!A.longitude)return null;const W=x($),ie=v($,W);if(ie<=.01)return null;const J=k.has($),oe=y.hubNodes.includes($),X=y.mobileNodes.includes($),Z=Fr(A),ee=y.centrality.get($)||0,U=m.get($)??null,te=y.fullAffinity.get($),de=y.txDelayRecommendations.get($);return a.jsx(Qs,{hash:$,neighbor:A,isZeroHop:J,isHub:oe,isMobile:X,isRoomServer:Z,centrality:ee,lastHopData:U,affinity:te,txDelayRec:de,nodeOpacity:ie,isHovered:R===$,onHover:b,onRequestRemove:F,isPopupOpen:_===$,onOpenPopup:H,onClosePopup:N},$)}),u&&u.latitude&&u.longitude&&a.jsx(eo,{localNode:u,localHash:g,isHovered:R==="local",onHover:b,isPopupOpen:_==="local",onOpenPopup:()=>H("local"),onClosePopup:N})]})}function no(c,u=!1,g=!1,k=!1,m=.7){return c?u?Y.edges.hoverDirect:g?Y.edges.hoverLoop:Y.edges.hoverStandard:k?m>=.75?Y.edges.restBright:Y.edges.rest:m>=.85?Y.edges.rest:m>=.7?Y.edges.restDim:"#1F2937"}function ro(c,u,g){const k=u[1]-c[1],m=u[0]-c[0],y=Math.sqrt(k*k+m*m);if(y===0)return{line1:[c,u],line2:[c,u]};const R=-m/y,b=k/y,v=g*2e-5,x=R*v,F=b*v;return{line1:[[c[0]+x,c[1]+F],[u[0]+x,u[1]+F]],line2:[[c[0]-x,c[1]-F],[u[0]-x,u[1]-F]]}}function st(c){return[c[1],c[0]]}function so(c,u){const g=[];for(const{from:k,to:m,edge:y}of c){const R=u.get(y.key)??0;if(R<=0)continue;const b=[k[0]+(m[0]-k[0])*R,k[1]+(m[1]-k[1])*R];g.push({type:"Feature",properties:{key:y.key,color:Y.edges.restDim,width:1.5,opacity:.5*R,isLoopEdge:!1,isBackbone:!1,isDirectPath:!1,isHubConnection:!1,certainCount:y.certainCount,confidence:y.avgConfidence??.7,symmetryRatio:y.symmetryRatio??1,dominantDirection:y.dominantDirection??"balanced",fromName:"",toName:""},geometry:{type:"LineString",coordinates:[st(k),st(b)]}})}return{type:"FeatureCollection",features:g}}function oo(c,u,g,k,m,y,R,b,v,x,F){const _=[];for(const{from:L,to:H,edge:N}of c){const P=u.get(N.key)??0;if(P<=0)continue;const $=m.get(N.key)??Ar(N.certainCount),A=k.get(N.key)??$,W=A+($-A)*g,ie=R.has(N.key),J=b.has(N.key),oe=N.avgConfidence??.7,X=v===N.key,Z=v!==null,ee=x===N.key,U=F[N.fromHash],te=F[N.toHash],de=(U==null?void 0:U.node_name)||(U==null?void 0:U.name)||N.fromHash.slice(0,8),B=(te==null?void 0:te.node_name)||(te==null?void 0:te.name)||N.toHash.slice(0,8),Q=[L[0]+(H[0]-L[0])*P,L[1]+(H[1]-L[1])*P],ne=Math.min(P*1.5,1)*Y.edgeOpacity,pe=Z?X?1.25:.4:1;if(ie){const{line1:re,line2:ye}=ro(L,Q,W*1.5),he=X?Y.edges.hoverLoop:Y.edges.rest,fe=ne*1.1*pe,ke=X?Math.max(2.5,W*.8):Math.max(1.5,W*.6);_.push({type:"Feature",properties:{key:`${N.key}-loop1`,color:he,width:ke,opacity:fe,isLoopEdge:!0,isBackbone:!1,isDirectPath:N.isDirectPathEdge??!1,isHubConnection:N.isHubConnection??!1,certainCount:N.certainCount,confidence:oe,symmetryRatio:N.symmetryRatio??1,dominantDirection:N.dominantDirection??"balanced",fromName:de,toName:B},geometry:{type:"LineString",coordinates:[st(re[0]),st(re[1])]}}),_.push({type:"Feature",properties:{key:`${N.key}-loop2`,color:he,width:ke,opacity:fe,isLoopEdge:!0,isBackbone:!1,isDirectPath:N.isDirectPathEdge??!1,isHubConnection:N.isHubConnection??!1,certainCount:N.certainCount,confidence:oe,symmetryRatio:N.symmetryRatio??1,dominantDirection:N.dominantDirection??"balanced",fromName:de,toName:B},geometry:{type:"LineString",coordinates:[st(ye[0]),st(ye[1])]}});continue}const xe=ee?"#FFD700":no(X,N.isDirectPathEdge??!1,!1,J,oe);let se=ee?Math.max(W*1.6,4.5):J?W*1.3:W;X&&!ee&&(se=Math.max(se*1.2,3));let ae=ee?.95:J?ne*1.15:ne;ae*=pe,_.push({type:"Feature",properties:{key:N.key,color:xe,width:se,opacity:ae,isLoopEdge:!1,isBackbone:J,isDirectPath:N.isDirectPathEdge??!1,isHubConnection:N.isHubConnection??!1,certainCount:N.certainCount,confidence:oe,symmetryRatio:N.symmetryRatio??1,dominantDirection:N.dominantDirection??"balanced",fromName:de,toName:B},geometry:{type:"LineString",coordinates:[st(L),st(Q)]}})}return{type:"FeatureCollection",features:_}}const io={id:"topology-weak-edges",type:"line",paint:{"line-color":["get","color"],"line-width":["get","width"],"line-opacity":["get","opacity"]},layout:{"line-cap":"round","line-join":"round"}},lo={id:"topology-validated-edges",type:"line",paint:{"line-color":["get","color"],"line-width":["get","width"],"line-opacity":["get","opacity"]},layout:{"line-cap":"round","line-join":"round"}},ao={id:"topology-validated-edges-hitarea",type:"line",paint:{"line-color":"transparent","line-width":16,"line-opacity":0},layout:{"line-cap":"round","line-join":"round"}};function uo({showTopology:c,isExiting:u,validatedPolylines:g,weakPolylines:k,edgeAnimProgress:m,weightAnimProgress:y,animStartWeights:R,animTargetWeights:b,maxCertainCount:v,loopEdgeKeys:x,backboneEdgeKeys:F,hoveredEdgeKey:_,onEdgeHover:L,highlightedEdgeKey:H,neighbors:N}){const P=c||u,$=C.useMemo(()=>P?so(k,m):{type:"FeatureCollection",features:[]},[k,m,P]),A=C.useMemo(()=>P?oo(g,m,y,R,b,v,x,F,_,H,N):{type:"FeatureCollection",features:[]},[g,m,y,R,b,v,x,F,_,H,N,P]);return P?a.jsxs(a.Fragment,{children:[a.jsx(Zn,{id:"weak-edges",type:"geojson",data:$,children:a.jsx(tn,{...io})}),a.jsxs(Zn,{id:"validated-edges",type:"geojson",data:A,children:[a.jsx(tn,{...ao}),a.jsx(tn,{...lo})]})]}):null}const co=["topology-validated-edges-hitarea","topology-validated-edges"];function _r(c){return[c[1],c[0]]}function fo(c,u){const g=[];for(const{from:k,to:m,hash:y,neighbor:R,lastHopData:b}of c){const v=R.node_name||R.name||y.slice(0,8),x=(b==null?void 0:b.avgSnr)??R.snr,F=(b==null?void 0:b.avgRssi)??R.rssi,_=b==null?void 0:b.count,L=b==null?void 0:b.confidence,H=`neighbor-${y}`,N=u===H,P=N?Y.edges.neighborHover:Y.edges.neighborRest,$=N?2.5:1.5,A=N?1:.6;g.push({type:"Feature",properties:{key:H,hash:y,name:v,prefix:b==null?void 0:b.prefix,rssi:F,snr:x,packetCount:_,confidence:L,hasAvgRssi:(b==null?void 0:b.avgRssi)!==void 0,hasAvgSnr:(b==null?void 0:b.avgSnr)!==void 0,color:P,width:$,opacity:A},geometry:{type:"LineString",coordinates:[_r(k),_r(m)]}})}return{type:"FeatureCollection",features:g}}const po=100,Kn=[[0,4,3],[.5,4,2.5],[1,4,2],[1.5,4,1.5],[2,4,1],[2.5,4,.5],[3,4,0],[0,.5,3,3.5],[0,1,3,3],[0,1.5,3,2.5],[0,2,3,2],[0,2.5,3,1.5],[0,3,3,1],[0,3.5,3,.5]];function ho(c){return{id:"neighbor-edges",type:"line",paint:{"line-color":["get","color"],"line-width":["get","width"],"line-opacity":["get","opacity"],"line-dasharray":c},layout:{"line-cap":"butt","line-join":"round"}}}const mo={id:"neighbor-edges-hitarea",type:"line",paint:{"line-color":"transparent","line-width":16,"line-opacity":0},layout:{"line-cap":"round","line-join":"round"}};function go({neighborPolylines:c,hoveredEdgeKey:u,onEdgeHover:g}){const k=C.useRef(null),m=C.useRef(-1),[y,R]=C.useState(0),b=c.length>0,v=C.useMemo(()=>b?fo(c,u):{type:"FeatureCollection",features:[]},[c,u,b]),x=Kn[y]||Kn[0],F=C.useMemo(()=>ho(x),[x]);return C.useEffect(()=>{if(!b)return;let _=!0;const L=H=>{if(!_)return;const N=Math.floor(H/po)%Kn.length;N!==m.current&&(m.current=N,R(N)),k.current=requestAnimationFrame(L)};return k.current=requestAnimationFrame(L),()=>{_=!1,k.current!==null&&cancelAnimationFrame(k.current)}},[b]),b?a.jsxs(Zn,{id:"neighbor-edges",type:"geojson",data:v,children:[a.jsx(tn,{...mo}),a.jsx(tn,{...F})]}):null}const xo=["neighbor-edges-hitarea","neighbor-edges"];function yo({positions:c}){const{current:u}=er(),g=C.useRef(!1);return C.useEffect(()=>{if(!(!u||c.length===0||g.current))if(g.current=!0,c.length===1)u.flyTo({center:[c[0][1],c[0][0]],zoom:14,duration:1e3});else{const k=c.map(([x,F])=>[F,x]);let m=1/0,y=-1/0,R=1/0,b=-1/0;for(const[x,F]of k)m=Math.min(m,x),y=Math.max(y,x),R=Math.min(R,F),b=Math.max(b,F);const v=[[m,R],[y,b]];u.fitBounds(v,{padding:{top:15,bottom:15,left:15,right:15},maxZoom:16,duration:1e3})}},[u,c]),null}function vo({targetHash:c,nodeCoordinates:u,onComplete:g}){const{current:k}=er(),m=C.useRef(null);return C.useEffect(()=>{if(!k||!c||c===m.current)return;const y=u.get(c);if(!y)return;m.current=c;const[R,b]=y;k.flyTo({center:[b,R],zoom:15,duration:2500,essential:!0}),setTimeout(()=>{g==null||g()},2600)},[c,u,k,g]),null}function So({highlightedEdgeKey:c,validatedPolylines:u,weakPolylines:g,onEnsureTopology:k}){const{current:m}=er();return C.useEffect(()=>{if(!m||!c)return;k();const y=u.find(F=>F.edge.key===c)||g.find(F=>F.edge.key===c);if(!y)return;const R=(y.from[0]+y.to[0])/2,b=(y.from[1]+y.to[1])/2,v=m.getZoom(),x=Math.max(v,11);m.flyTo({center:[b,R],zoom:x,duration:500,essential:!0})},[c,u,g,m,k]),null}const wo="https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json",ko={longitude:0,latitude:0,zoom:2};function bo({type:c,properties:u,maxCertainCount:g}){if(c==="neighbor"){const y=u;return a.jsxs("div",{className:"text-xs",children:[a.jsxs("div",{className:"font-medium text-text-primary",children:[a.jsx("span",{className:"text-amber-400",children:"●"})," ",y.name,y.prefix&&a.jsxs("span",{className:"ml-1 text-text-muted font-mono text-[10px]",children:["(",y.prefix,")"]})]}),a.jsxs("div",{className:"text-text-secondary flex gap-2",children:[y.rssi!==void 0&&y.rssi!==null&&a.jsxs("span",{children:["RSSI: ",Math.round(y.rssi)," dBm",y.hasAvgRssi&&" avg"]}),y.snr!==void 0&&y.snr!==null&&a.jsxs("span",{children:["SNR: ",Number(y.snr).toFixed(1)," dB",y.hasAvgSnr&&" avg"]})]}),y.packetCount!==void 0&&a.jsxs("div",{className:"text-text-muted text-[10px]",children:[Number(y.packetCount).toLocaleString()," packets",y.confidence!==void 0&&` • ${Math.round(Number(y.confidence)*100)}% conf`]}),a.jsx("div",{className:"text-amber-400 text-[10px] mt-0.5",children:"Direct RF neighbor"})]})}const k=u,m=g>0?Number(k.certainCount)/g:0;return a.jsxs("div",{className:"text-xs",children:[a.jsxs("div",{className:"font-medium text-text-primary",children:[k.fromName," ↔ ",k.toName]}),a.jsxs("div",{className:"text-text-secondary",children:[k.certainCount," validations (",Math.round(m*100),"%) • ",Math.round(Number(k.confidence)*100),"% conf"]}),k.isBackbone&&a.jsx("div",{className:"text-gray-300 font-semibold",children:"Backbone"}),k.isLoopEdge&&a.jsx("div",{className:"text-indigo-400 text-[10px] mt-0.5",children:"Redundant path"}),k.isDirectPath&&a.jsx("div",{className:"text-teal-400 text-[10px]",children:"Direct path"})]})}function zo({neighbors:c,localNode:u,localHash:g,onRemoveNode:k,selectedNodeHash:m,onNodeSelected:y,highlightedEdgeKey:R}){const b=C.useRef(null),v=Jr(),x=Qr(),F=es(),_=ts(),[L,H]=C.useState(ko),[N,P]=C.useState(!1),[$,A]=C.useState(!1),[W,ie]=C.useState(!1),[J,oe]=C.useState(!1),[X,Z]=C.useState(null),[ee,U]=C.useState(null),[te,de]=C.useState(null),[B,Q]=C.useState(""),[ne,pe]=C.useState(!1),[xe,se]=C.useState("fetching"),[ae,re]=C.useState(!1),[ye,he]=C.useState(0),[fe,ke]=C.useState(null),ve=C.useMemo(()=>Object.entries(c).filter(([,M])=>M.latitude&&M.longitude),[c]),Be=C.useMemo(()=>{const M=[];u!=null&&u.latitude&&(u!=null&&u.longitude)&&M.push([u.latitude,u.longitude]);for(const[,T]of ve)T.latitude&&T.longitude&&M.push([T.latitude,T.longitude]);return M},[u,ve]),Ee=C.useMemo(()=>{const M=new Map;g&&(u!=null&&u.latitude)&&(u!=null&&u.longitude)&&M.set(g,[u.latitude,u.longitude]);for(const[T,z]of ve)z.latitude&&z.longitude&&M.set(T,[z.latitude,z.longitude]);return M},[g,u,ve]),Ne=C.useMemo(()=>{const M=new Map;for(const T of F)T.status!=="expired"&&M.set(T.hash,{hash:T.hash,prefix:T.prefix,count:T.count,avgRssi:T.avgRssi,avgSnr:T.avgSnr,lastSeen:T.lastSeen,confidence:1,status:T.status});return M},[F]),be=C.useMemo(()=>{var T,z;const M=new Set;for(const I of Ne.keys())(T=c[I])!=null&&T.latitude&&((z=c[I])!=null&&z.longitude)&&M.add(I);return M},[Ne,c]),me=C.useMemo(()=>{const M=[];for(const T of v.validatedEdges){const z=Ee.get(T.fromHash),I=Ee.get(T.toHash);z&&I&&M.push({from:z,to:I,edge:T})}return M},[v.validatedEdges,Ee]),Re=C.useMemo(()=>{const M=[];for(const T of v.weakEdges){const z=Ee.get(T.fromHash),I=Ee.get(T.toHash);z&&I&&M.push({from:z,to:I,edge:T})}return M},[v.weakEdges,Ee]),Ie=C.useMemo(()=>{if(!(u!=null&&u.latitude)||!(u!=null&&u.longitude))return[];const M=[],T=[u.latitude,u.longitude];for(const z of be){const I=c[z];!(I!=null&&I.latitude)||!(I!=null&&I.longitude)||M.push({from:T,to:[I.latitude,I.longitude],hash:z,neighbor:I,lastHopData:Ne.get(z)??null})}return M},[u,be,c,Ne]),ot=C.useMemo(()=>new Set(v.loopEdgeKeys),[v.loopEdgeKeys]),ge=C.useMemo(()=>new Set(v.backboneEdges),[v.backboneEdges]),Me=C.useMemo(()=>{let M=0;for(const T of v.validatedEdges)T.certainCount>M&&(M=T.certainCount);return M||1},[v.validatedEdges]),{edgeAnimProgress:xt,weightAnimProgress:Ye,animStartWeights:Ft,animTargetWeights:Xe,isExiting:He,resetAnimationState:We}=Hs({showTopology:$,polylines:me,weakPolylines:Re,maxCertainCount:Me,getWeight:Ar}),yt=C.useMemo(()=>{const M=new Set;for(const T of v.hubNodes){M.add(T);for(const z of v.validatedEdges)z.fromHash===T&&M.add(z.toHash),z.toHash===T&&M.add(z.fromHash)}return M},[v.hubNodes,v.validatedEdges]),$e=C.useMemo(()=>{const M=new Set;if(!g)return M;for(const T of v.validatedEdges)T.fromHash===g&&M.add(T.toHash),T.toHash===g&&M.add(T.fromHash);return M},[g,v.validatedEdges]),{getNodeOpacity:we}=Us({soloDirect:W,soloHubs:J,neighborHashes:ve.map(([M])=>M),hubConnectedNodes:yt,directNodeSet:be,localConnectedNodes:$e,showTopology:$}),vt=C.useCallback(M=>{if(!W&&!J)return!0;if(W)return be.has(M);if(J){if(v.hubNodes.includes(M))return!0;for(const T of v.validatedEdges)if(T.fromHash===M&&v.hubNodes.includes(T.toHash)||T.toHash===M&&v.hubNodes.includes(T.fromHash))return!0;return!1}return!0},[W,J,be,v.hubNodes,v.validatedEdges]),St=C.useCallback(async()=>{re(!0),pe(!0),se("fetching"),he(0),await x(),he(_.packetCount),se("analyzing"),await new Promise(z=>setTimeout(z,200)),se("building");const M=Date.now(),T=Date.now()-M;T<Cr&&await new Promise(z=>setTimeout(z,Cr-T)),se("complete"),await new Promise(z=>setTimeout(z,_s)),pe(!1),re(!1),We(),setTimeout(()=>{A(!0)},Is)},[x,We,_.packetCount]),wt=C.useCallback(M=>{H(M.viewState)},[]),kt=C.useCallback(()=>{P(M=>!M)},[]),Ke=C.useCallback(()=>{A(M=>!M)},[]),bt=C.useCallback(()=>{ie(M=>!M)},[]),Ct=C.useCallback(()=>{oe(M=>!M)},[]),_t=C.useCallback(()=>{$||A(!0)},[$]),it=C.useCallback((M,T)=>{de(M),Q(T)},[]),Ze=C.useCallback(()=>{te&&k&&k(te),de(null),Q("")},[te,k]),It=C.useMemo(()=>[...co,...xo],[]),$t=C.useCallback(M=>{var Ve;if(!M.features||M.features.length===0)return;const T=M.features[0],z=(Ve=T.layer)==null?void 0:Ve.id,I=T.properties;if(!(I!=null&&I.key))return;const ze=z==null?void 0:z.startsWith("topology-"),Je=z==null?void 0:z.startsWith("neighbor-");if(ze||Je){const Pe=I.key.replace(/-loop[12]$/,"");U(Pe),M.lngLat&&ke({longitude:M.lngLat.lng,latitude:M.lngLat.lat,type:ze?"topology":"neighbor",properties:I})}b.current&&(b.current.getCanvas().style.cursor="pointer")},[]),Pt=C.useCallback(()=>{U(null),ke(null),b.current&&(b.current.getCanvas().style.cursor="")},[]),Lt=N?"h-screen":"h-[500px]",At=N?"fixed inset-0 z-50 bg-surface":"glass-card overflow-hidden";return a.jsxs("div",{className:`${At} ${Lt}`,children:[a.jsxs("div",{className:"relative w-full h-full",children:[a.jsxs(rs,{ref:b,...L,onMove:wt,mapStyle:wo,style:{width:"100%",height:"100%"},attributionControl:!1,interactiveLayerIds:It,onMouseMove:$t,onMouseLeave:Pt,onLoad:M=>{const T=M.target,z=T.getStyle();if(z!=null&&z.layers)for(const I of z.layers)I.type==="symbol"&&(T.setPaintProperty(I.id,"text-color","rgba(50, 52, 58, 1)"),T.setPaintProperty(I.id,"text-halo-color","rgba(8, 9, 11, 0.9)"),T.setPaintProperty(I.id,"text-halo-width",1),T.setLayoutProperty(I.id,"text-font",["Inter","Open Sans Regular","Arial Unicode MS Regular"]))},children:[a.jsx(ss,{position:"top-left",style:{marginTop:"1rem",marginLeft:"1rem"}}),a.jsx(os,{position:"bottom-right"}),a.jsx(yo,{positions:Be}),m&&a.jsx(vo,{targetHash:m,nodeCoordinates:Ee,onComplete:y}),R&&a.jsx(So,{highlightedEdgeKey:R,validatedPolylines:me,weakPolylines:Re,onEnsureTopology:_t}),a.jsx(uo,{showTopology:$,isExiting:He,validatedPolylines:me,weakPolylines:Re,edgeAnimProgress:xt,weightAnimProgress:Ye,animStartWeights:Ft,animTargetWeights:Xe,maxCertainCount:Me,loopEdgeKeys:ot,backboneEdgeKeys:ge,hoveredEdgeKey:ee,onEdgeHover:U,highlightedEdgeKey:R,neighbors:c}),a.jsx(to,{neighborsWithLocation:ve,localNode:u,localHash:g,zeroHopNeighbors:be,lastHopNeighborMap:Ne,meshTopology:v,hoveredMarker:X,onMarkerHover:Z,getNodeOpacity:we,shouldShowNode:vt,onRequestRemove:k?it:void 0}),a.jsx(go,{neighborPolylines:Ie,hoveredEdgeKey:ee,onEdgeHover:U}),fe&&a.jsx(Qn,{longitude:fe.longitude,latitude:fe.latitude,anchor:"bottom",offset:[0,-20],closeButton:!1,closeOnClick:!1,className:"maplibre-popup",children:a.jsx(bo,{type:fe.type,properties:fe.properties,maxCertainCount:Me})})]}),a.jsx(zs,{isDeepLoading:ae,showDeepAnalysisModal:ne,onDeepAnalysis:St,showTopology:$,onToggleTopology:Ke,hasValidatedPolylines:me.length>0,soloHubs:J,onToggleSoloHubs:Ct,hasHubNodes:v.hubNodes.length>0,soloDirect:W,onToggleSoloDirect:bt,hasZeroHopNeighbors:be.size>0,isFullscreen:N,onToggleFullscreen:kt}),a.jsx(Os,{showTopology:$,validatedPolylineCount:me.length,filteredNeighborCount:ve.length,hasLocalNode:!!(u!=null&&u.latitude&&(u!=null&&u.longitude)),meshTopology:v,zeroHopNeighbors:be,neighborsWithLocation:ve})]}),!N&&a.jsxs("div",{className:"absolute inset-0 pointer-events-none rounded-[1.125rem] overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent"}),a.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 bg-gradient-to-br from-white/[0.03] to-transparent"}),a.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-white/[0.03] to-transparent"}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 bg-gradient-to-t from-black/20 to-transparent"})]}),a.jsx(as,{isOpen:te!==null,onCancel:()=>de(null),onConfirm:Ze,title:"Remove Node?",message:`Remove "${B}" from the contacts list? This will hide the node until it sends a new packet.`,confirmLabel:"Remove",cancelLabel:"Cancel",variant:"danger"}),a.jsx(Ts,{isOpen:ne,currentStep:xe,packetCount:ye})]})}export{zo as default};
